!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("windowmanager",[],t):"object"==typeof exports?exports.windowmanager=t():e.windowmanager=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i);n(68),"undefined"!=typeof global&&global&&(global.windowmanager=o.default),"undefined"!=typeof window&&window&&(window.windowmanager=o.default),t.default=o.default,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(59),a=r(o),u=["window-create","window-close"],s=new i.EventHandler(u);s.version="0.13.6",s.runtime={name:void 0,version:void 0,isBrowser:!1,isElectron:!1,isOpenFin:!1,isDesktop:!1,isMobile:!1,isMain:!1},"undefined"!=typeof navigator&&(s.runtime.isMobile=function(e){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera),s.runtime.isDesktop=!s.isMobile),s.geometry=a.default,t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return"window"+l()+(new Date).getTime()}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=r(o),u=n(58),s=r(u),l=function(){for(var e=[],t=0;t<256;t+=1)e[t]=(t<16?"0":"")+t.toString(16);return function(){var t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+"-"+e[255&n]+e[n>>8&255]+"-"+e[n>>16&15|64]+e[n>>24&255]+"-"+e[63&r|128]+e[r>>8&255]+"-"+e[r>>16&255]+e[r>>24&255]+e[255&i]+e[i>>8&255]+e[i>>16&255]+e[i>>24&255]}}();t.default={getUniqueWindowName:i,EventHandler:a.default,SyncCallback:s.default},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._eventListeners={},this._eventPipes=[];var t=!0,n=!1,r=void 0;try{for(var i,o=(0,a.default)(e);!(t=(i=o.next()).done);t=!0){var u=i.value;this._eventListeners[u]=[]}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=r(o);i.prototype.on=function(e,t){e=e.toLowerCase().split(" ");var n=!0,r=!1,i=void 0;try{for(var o,u=(0,a.default)(e);!(n=(o=u.next()).done);n=!0){var s=o.value;if(void 0!==this._eventListeners[s]){if(!t||"function"!=typeof t.constructor)throw new Error("on requires argument 'eventListener' of type Function");this._eventListeners[s].indexOf(t)>=0||this._eventListeners[s].push(t)}}}catch(e){r=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}},i.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}this.on(e,n)},i.prototype.off=function(e,t){e=e.toLowerCase().split(" ");var n=!0,r=!1,i=void 0;try{for(var o,u=(0,a.default)(e);!(n=(o=u.next()).done);n=!0){var s=o.value;if(void 0===this._eventListeners[s])return;if(!t||"function"!=typeof t.constructor)throw new Error("off requires argument 'eventListener' of type Function");var l=this._eventListeners[s].indexOf(t);l>=0&&this._eventListeners[s].splice(l,1)}}catch(e){r=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}},i.prototype.clearEvent=function(e){e=e.toLowerCase();var t=!0,n=!1,r=void 0;try{for(var i,o=(0,a.default)(e);!(t=(i=o.next()).done);t=!0){var u=i.value;if(void 0===this._eventListeners[u])return;this._eventListeners[u]=[]}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}},i.prototype.emit=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e=e.toLowerCase(),void 0===this._eventListeners[e])return!1;var i=!0,o=!0,u=!1,s=void 0;try{for(var l,d=(0,a.default)(this._eventListeners[e]);!(o=(l=d.next()).done);o=!0){var f=l.value;i=i&&f.apply(this,n)!==!1}}catch(e){u=!0,s=e}finally{try{!o&&d.return&&d.return()}finally{if(u)throw s}}var c=!0,h=!1,v=void 0;try{for(var w,p=(0,a.default)(this._eventPipes);!(c=(w=p.next()).done);c=!0){var y=w.value;i=i&&y.emit.apply(y,arguments)!==!1}}catch(e){h=!0,v=e}finally{try{!c&&p.return&&p.return()}finally{if(h)throw v}}return i},i.prototype.addPipe=function(e){if(!e||!e.emit)throw new Error("addPipe requires argument 'eventHandler' of type EventHandler");this._eventPipes.indexOf(e)>=0||this._eventPipes.push(e)},i.prototype.removePipe=function(e){if(!e||!e.emit)throw new Error("removePipe requires argument 'eventHandler' of type EventHandler");if(!(this._eventPipes.indexOf(e)>=0)){var t=this._eventPipes.indexOf(e);t>=0&&this._eventPipes.splice(t,1)}},t.default=i,e.exports=t.default},function(e,t,n){e.exports={default:n(6),__esModule:!0}},function(e,t,n){n(7),n(53),e.exports=n(55)},function(e,t,n){n(8);for(var r=n(19),i=n(23),o=n(11),a=n(50)("toStringTag"),u=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],s=0;s<5;s++){var l=u[s],d=r[l],f=d&&d.prototype;f&&!f[a]&&i(f,a,l),o[l]=o.Array}},function(e,t,n){"use strict";var r=n(9),i=n(10),o=n(11),a=n(12);e.exports=n(16)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t){e.exports={}},function(e,t,n){var r=n(13),i=n(15);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(14);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";var r=n(17),i=n(18),o=n(33),a=n(23),u=n(34),s=n(11),l=n(35),d=n(49),f=n(51),c=n(50)("iterator"),h=!([].keys&&"next"in[].keys()),v="@@iterator",w="keys",p="values",y=function(){return this};e.exports=function(e,t,n,_,g,m,x){l(n,t,_);var b,k,z,S=function(e){if(!h&&e in P)return P[e];switch(e){case w:return function(){return new n(this,e)};case p:return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",M=g==p,B=!1,P=e.prototype,O=P[c]||P[v]||g&&P[g],C=O||S(g),T=g?M?S("entries"):C:void 0,N="Array"==t?P.entries||O:O;if(N&&(z=f(N.call(new e)),z!==Object.prototype&&(d(z,E,!0),r||u(z,c)||a(z,c,y))),M&&O&&O.name!==p&&(B=!0,C=function(){return O.call(this)}),r&&!x||!h&&!B&&P[c]||a(P,c,C),s[t]=C,s[E]=y,g)if(b={values:M?C:S(p),keys:m?C:S(w),entries:T},x)for(k in b)k in P||o(P,k,b[k]);else i(i.P+i.F*(h||B),t,b);return b}},function(e,t){e.exports=!0},function(e,t,n){var r=n(19),i=n(20),o=n(21),a=n(23),u="prototype",s=function(e,t,n){var l,d,f,c=e&s.F,h=e&s.G,v=e&s.S,w=e&s.P,p=e&s.B,y=e&s.W,_=h?i:i[t]||(i[t]={}),g=_[u],m=h?r:v?r[t]:(r[t]||{})[u];h&&(n=t);for(l in n)d=!c&&m&&void 0!==m[l],d&&l in _||(f=d?m[l]:n[l],_[l]=h&&"function"!=typeof m[l]?n[l]:p&&d?o(f,r):y&&m[l]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[u]=e[u],t}(f):w&&"function"==typeof f?o(Function.call,f):f,w&&((_.virtual||(_.virtual={}))[l]=f,e&s.R&&g&&!g[l]&&a(g,l,f)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(22);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(24),i=n(32);e.exports=n(28)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(25),i=n(27),o=n(31),a=Object.defineProperty;t.f=n(28)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(26);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(28)&&!n(29)(function(){return 7!=Object.defineProperty(n(30)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports=!n(29)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(26),i=n(19).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(26);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){e.exports=n(23)},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";var r=n(36),i=n(32),o=n(49),a={};n(23)(a,n(50)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(25),i=n(37),o=n(47),a=n(44)("IE_PROTO"),u=function(){},s="prototype",l=function(){var e,t=n(30)("iframe"),r=o.length,i="<",a=">";for(t.style.display="none",n(48).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(i+"script"+a+"document.F=Object"+i+"/script"+a),e.close(),l=e.F;r--;)delete l[s][o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(u[s]=r(e),n=new u,u[s]=null,n[a]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(24),i=n(25),o=n(38);e.exports=n(28)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),u=a.length,s=0;u>s;)r.f(e,n=a[s++],t[n]);return e}},function(e,t,n){var r=n(39),i=n(47);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(34),i=n(12),o=n(40)(!1),a=n(44)("IE_PROTO");e.exports=function(e,t){var n,u=i(e),s=0,l=[];for(n in u)n!=a&&r(u,n)&&l.push(n);for(;t.length>s;)r(u,n=t[s++])&&(~o(l,n)||l.push(n));return l}},function(e,t,n){var r=n(12),i=n(41),o=n(43);e.exports=function(e){return function(t,n,a){var u,s=r(t),l=i(s.length),d=o(a,l);if(e&&n!=n){for(;l>d;)if(u=s[d++],u!=u)return!0}else for(;l>d;d++)if((e||d in s)&&s[d]===n)return e||d||0;return!e&&-1}}},function(e,t,n){var r=n(42),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(42),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(45)("keys"),i=n(46);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(19),i="__core-js_shared__",o=r[i]||(r[i]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){e.exports=n(19).document&&document.documentElement},function(e,t,n){var r=n(24).f,i=n(34),o=n(50)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(45)("wks"),i=n(46),o=n(19).Symbol,a="function"==typeof o,u=e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))};u.store=r},function(e,t,n){var r=n(34),i=n(52),o=n(44)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(15);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r=n(54)(!0);n(16)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(42),i=n(15);e.exports=function(e){return function(t,n){var o,a,u=String(i(t)),s=r(n),l=u.length;return s<0||s>=l?e?"":void 0:(o=u.charCodeAt(s),o<55296||o>56319||s+1===l||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):o:e?u.slice(s,s+2):(o-55296<<10)+(a-56320)+65536)}}},function(e,t,n){var r=n(25),i=n(56);e.exports=n(20).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){var r=n(57),i=n(50)("iterator"),o=n(11);e.exports=n(20).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(14),i=n(50)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,u;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(u=r(t))&&"function"==typeof t.callee?"Arguments":u}},function(e,t){"use strict";function n(e){return this instanceof n?(this.callback=e,void(this.count=0)):new n(e)}Object.defineProperty(t,"__esModule",{value:!0}),n.prototype.ref=function(e){var t=this;return this.count+=1,function(){e&&e.apply(void 0,arguments),t._deref()}},n.prototype._deref=function(){this.count-=1,this.count<=0&&this.callback()},t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(60),o=r(i),a=n(66),u=r(a),s=n(67),l=r(s);t.default={BoundingBox:u.default,CollisionMesh:l.default,Position:o.default,Size:o.default,Vector:o.default},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(61),o=r(i),a=n(62),u=r(a),s=n(66),l=r(s),d=n(67),f=r(d),c=function(){function e(t,n){(0,o.default)(this,e);var r=t;r&&r.constructor!==Number?(this.left=r.left,this.top=r.top):(this.left=t,this.top=n)}return(0,u.default)(e,[{key:"clone",value:function(){return new e(this)}},{key:"isNaN",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return isNaN(this.left)||isNaN(this.top)})},{key:"getVector",value:function(){return this}},{key:"getBoundingBox",value:function(){return new l.default(this.left,this.top,this.left,this.top)}},{key:"getCollisionMesh",value:function(){return new f.default(this.getBoundingBox())}},{key:"distanceSquared",value:function(e){var t=e.subtract(this);return t.left*t.left+t.top*t.top}},{key:"distance",value:function(e){return Math.sqrt(this.distanceSquared(e))}},{key:"set",value:function(e){if(!e)throw new Error("set requires argument 'other'");return e=e.getVector(),this.left=e.left,this.top=e.top,this}},{key:"moveTo",value:function(e,t){return e&&e.constructor===Number&&(this.left=e),t&&t.constructor===Number&&(this.top=t),this}},{key:"moveBy",value:function(e,t){return e&&e.constructor===Number&&(this.left=e),t&&t.constructor===Number&&(this.top=t),this}},{key:"setMin",value:function(e){if(!e)throw new Error("setMin requires argument 'other'");e=e.getVector(),(Math.abs(e.left)<Math.abs(this.left)||isNaN(this.left))&&(this.left=e.left),(Math.abs(e.top)<Math.abs(this.top)||isNaN(this.top))&&(this.top=e.top)}},{key:"setMax",value:function(e){if(!e)throw new Error("setMax requires argument 'other'");e=e.getVector(),(Math.abs(e.left)>Math.abs(this.left)||isNaN(this.left))&&(this.left=e.left),(Math.abs(e.top)>Math.abs(this.top)||isNaN(this.top))&&(this.top=e.top)}},{key:"add",value:function(e){if(!e)throw new Error("add requires argument 'other'");return e=e.getVector(),this.left+=e.left,this.top+=e.top,this}},{key:"subtract",value:function(e){if(!e)throw new Error("subtract requires argument 'other'");return e=e.getVector(),this.left-=e.left,this.top-=e.top,this}}]),e}();t.default=c,e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(63),o=r(i);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){e.exports={default:n(64),__esModule:!0}},function(e,t,n){n(65);var r=n(20).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(18);r(r.S+r.F*!n(28),"Object",{defineProperty:n(24).f})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){for(var t=Math.abs(e),n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=!0,a=!1,u=void 0;try{for(var s,l=(0,d.default)(r);!(o=(s=l.next()).done);o=!0){var f=s.value,c=Math.abs(f);c<t&&(e=f,t=c)}}catch(e){a=!0,u=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw u}}return{min:e,abs:t}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(61),a=r(o),u=n(62),s=r(u),l=n(5),d=r(l),f=n(60),c=r(f),h=n(67),v=r(h),w=function(){function e(t,n,r,i){(0,a.default)(this,e);var o=t;o&&o.constructor!==Number?(o.getBoundingBox&&(o=o.getBoundingBox()),this.left=o.left,this.top=o.top,this.right=o.right,this.bottom=o.bottom):(this.left=t,this.top=n,this.right=r,this.bottom=i)}return(0,s.default)(e,[{key:"clone",value:function(){return new e(this)}},{key:"isNaN",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return isNaN(this.left)||isNaN(this.top)||isNaN(this.right)||isNaN(this.bottom)})},{key:"getWidth",value:function(){return Math.abs(this.right-this.left)}},{key:"getHeight",value:function(){return Math.abs(this.bottom-this.top)}},{key:"getSize",value:function(){return new c.default(this.getWidth(),this.getHeight())}},{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"getPosition",value:function(){return new c.default(this.left,this.top)}},{key:"getBoundingBox",value:function(){return this}},{key:"getCollisionMesh",value:function(){return new v.default(this)}},{key:"getCenterPosition",value:function(){return new c.default(this.left+this.getWidth()/2,this.top+this.getHeight()/2)}},{key:"difference",value:function(t){if(!t)throw new Error("difference requires argument 'other'");return t=t.getBoundingBox(),new e(this.left-t.left,this.top-t.top,this.right-t.right,this.bottom-t.bottom)}},{key:"getCenteredOnPosition",value:function(e){if(!e)throw new Error("getCenteredOnPosition requires argument 'other'");return e=e.getBoundingBox(),e.getCenterPosition().subtract(this.getCenterPosition().subtract(this.getPosition()))}},{key:"getIntersection",value:function(t){if(!t)throw new Error("getIntersection requires argument 'other'");t=t.getBoundingBox();var n=Math.max(this.left,t.left),r=Math.max(this.top,t.top),i=Math.min(this.right,t.right),o=Math.min(this.bottom,t.bottom);return n===i&&r===o?new c.default(n,r):n<=i&&r<=o?new e(n,r,i,o):void 0}},{key:"getDistanceSquaredToPoint",value:function(e){e=e.getVector();var t=e.left<=this.left?this.left:e.left>=this.right?this.right:e.left,n=e.top<=this.top?this.top:e.top>=this.bottom?this.bottom:e.top,r=new c.default(t,n);return r.distanceSquared(e)}},{key:"getDistanceToPoint",value:function(e){return Math.sqrt(this.getDistanceSquaredToPoint(e))}},{key:"set",value:function(e){if(!e)throw new Error("set requires argument 'other'");return e=e.getBoundingBox(),this.left=e.left,this.top=e.top,this.right=e.right,this.bottom=e.bottom,this}},{key:"moveTo",value:function(e,t){return e&&e.constructor===Number&&(this.right=e+(this.right-this.left),this.left=e),t&&t.constructor===Number&&(this.bottom=t+(this.bottom-this.top),this.top=t),this}},{key:"moveBy",value:function(e,t){return e&&e.constructor===Number&&(this.left+=e,this.right+=e),t&&t.constructor===Number&&(this.top+=t,this.bottom+=t),this}},{key:"resizeTo",value:function(e,t,n){var r=this.getSize(),i=new c.default(e||r.left,t||r.top);if(n=n||"top-left","string"==typeof n||n instanceof String){var o=n;n=this.getPosition(),o.indexOf("right")>=0&&(n.left+=r.left),o.indexOf("bottom")>=0&&(n.top+=r.top)}return this.left+=(n.left-this.left)*(r.left-i.left)/r.left,this.right+=(n.left-this.right)*(r.left-i.left)/r.left,this.top+=(n.top-this.top)*(r.top-i.top)/r.top,this.bottom+=(n.top-this.bottom)*(r.top-i.top)/r.top,this}},{key:"isContains",value:function(e){if(!e)throw new Error("isContains requires argument 'other'");return e=e.getBoundingBox(),e.left>=this.left&&e.right<=this.right&&e.top>=this.top&&e.bottom<=this.bottom}},{key:"someContains",value:function(e){if(!e)throw new Error("someContains requires argument 'others'");if(e.constructor!==Array)throw new Error("someContains requires argument 'others' of type Array");for(var t=0;t<e.length;t+=1)if(this.isContains(e[t]))return!0;return!1}},{key:"isTouching",value:function(e){if(!e)throw new Error("isTouching requires argument 'other'");return e=e.getBoundingBox(),this.top<=e.bottom&&this.bottom>=e.top&&(this.left===e.right||this.right===e.left)||this.left<=e.right&&this.right>=e.left&&(this.top===e.bottom||this.bottom===e.top)}},{key:"getEdgeTouching",value:function(e){if(!e)throw new Error("getEdgeTouching requires argument 'others'");e.constructor!==Array&&(e=[e]);for(var t=0;t<e.length;t+=1){var n=e[t].getBoundingBox();if(this.top<=n.bottom&&this.bottom>=n.top){if(this.left===n.right)return"left";if(this.right===n.left)return"right"}if(this.left<=n.right&&this.right>=n.left){if(this.top===n.bottom)return"top";if(this.bottom===n.top)return"bottom"}}}},{key:"getOtherEdgeTouching",value:function(e){if(!e)throw new Error("getOtherEdgeTouching requires argument 'others'");e.constructor!==Array&&(e=[e]);for(var t=0;t<e.length;t+=1){var n=e[t].getBoundingBox();if(this.top<=n.bottom&&this.bottom>=n.top){if(this.left===n.right)return"right";if(this.right===n.left)return"left"}if(this.left<=n.right&&this.right>=n.left){if(this.top===n.bottom)return"bottom";if(this.bottom===n.top)return"top"}}}},{key:"getEdgeClosestOrder",value:function(e){if(!e)throw new Error("getEdgeClosest requires argument 'other'");e=e.getBoundingBox();var t=this.getCenterPosition(),n=[];return n.push({edge:"left",dis:e.getDistanceSquaredToPoint(this.left,t.top)}),n.push({edge:"top",dis:e.getDistanceSquaredToPoint(t.left,this.top)}),n.push({edge:"right",dis:e.getDistanceSquaredToPoint(this.right,t.top)}),n.push({edge:"bottom",dis:e.getDistanceSquaredToPoint(t.left,this.bottom)}),n.sort(function(e,t){return e.dis-t.dis}),n.map(function(e){return e.edge})}},{key:"getEdgeClosest",value:function(e){var t=this.getEdgeClosestOrder(e);return t[0]}},{key:"getSnapDelta",value:function(e,t){if(!e)throw new Error("getSnapDelta requires argument 'other'");e=e.getBoundingBox(),t=t||5;var n=new c.default(NaN,NaN);if(this.top<=e.bottom&&this.bottom>=e.top){var r=i(e.left-this.right,e.right-this.left);if(r.abs<=t){n.left=r.min;var o=i(e.top-this.top,e.bottom-this.bottom);o.abs<=t&&(n.top=o.min)}}else if(this.left<=e.right&&this.right>=e.left){var a=i(e.top-this.bottom,e.bottom-this.top);if(a.abs<=t){n.top=a.min;var u=i(e.left-this.left,e.right-this.right);u.abs<=t&&(n.left=u.min)}}return n}},{key:"someTouching",value:function(e){if(!e)throw new Error("someTouching requires argument 'others'");if(e.constructor!==Array)throw new Error("someTouching requires argument 'others' of type Array");for(var t=0;t<e.length;t+=1)if(this.isTouching(e[t]))return!0;return!1}},{key:"isColliding",value:function(e){if(!e)throw new Error("isColliding requires argument 'other'");return e=e.getBoundingBox(),this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top}},{key:"someColliding",value:function(e){if(!e)throw new Error("someColliding requires argument 'others'");if(e.constructor!==Array)throw new Error("someColliding requires argument 'others' of type Array");for(var t=0;t<e.length;t+=1)if(this.isColliding(e[t]))return!0;return!1}},{key:"getColliding",value:function(e){if(!e)throw new Error("getColliding requires argument 'others'");if(e.constructor!==Array)throw new Error("getColliding requires argument 'others' of type Array");for(var t=0;t<e.length;t+=1)if(this.isColliding(e[t]))return e[t]}}]),e}();t.default=w,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=r(i),a=n(61),u=r(a),s=n(62),l=r(s),d=n(60),f=r(d),c=n(66),h=r(c),v=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,u.default)(this,e),!t)throw new Error("CollisionMesh constructor requires argument 'boxes'");t.constructor!==Array&&(t=[t]),this.boxes=[];var r=!0,i=!1,a=void 0;try{for(var s,l=(0,o.default)(t);!(r=(s=l.next()).done);r=!0){var d=s.value;d.constructor===h.default?this.boxes.push(d):d.constructor===e?this.boxes=this.boxes.concat(d.boxes):this.boxes=this.boxes.concat(d.getCollisionMesh(n).boxes)}}catch(e){i=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw a}}}return(0,l.default)(e,[{key:"clone",value:function(){for(var t=new Array(this.boxes.length),n=0;n<this.boxes.length;n+=1)t[n]=this.boxes[n].clone();return new e(t)}},{key:"getWidth",value:function(){if(0===this.boxes.length)return 0;for(var e=this.boxes[0].left,t=this.boxes[0].right,n=1;n<this.boxes.length;n+=1)e=Math.min(e,this.boxes[n].left),t=Math.max(t,this.boxes[n].right);return t-e}},{key:"getHeight",value:function(){if(0===this.boxes.length)return 0;for(var e=this.boxes[0].top,t=this.boxes[0].bottom,n=1;n<this.boxes.length;n+=1)e=Math.min(e,this.boxes[n].top),t=Math.max(t,this.boxes[n].bottom);return t-e}},{key:"getSize",value:function(){return this.getBoundingBox().getSize()}},{key:"getPosition",value:function(){return this.getBoundingBox().getPosition()}},{key:"getBoundingBox",value:function(){if(0===this.boxes.length)return new h.default(NaN,NaN,NaN,NaN);for(var e=this.boxes[0].clone(),t=1;t<this.boxes.length;t+=1)e.left=Math.min(e.left,this.boxes[t].left),e.top=Math.min(e.top,this.boxes[t].top),e.right=Math.max(e.right,this.boxes[t].right),e.bottom=Math.max(e.bottom,this.boxes[t].bottom);return e}},{key:"getCollisionMesh",value:function(){return this}},{key:"moveTo",value:function(e,t){var n=new f.default(e,t);return this.moveBy(n.subtract(this.getPosition())),this}},{key:"moveBy",value:function(e,t){var n=new f.default(e||0,t||0),r=!0,i=!1,a=void 0;try{for(var u,s=(0,o.default)(this.boxes);!(r=(u=s.next()).done);r=!0){var l=u.value;l.moveBy(n)}}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return this}},{key:"isContains",value:function(t){if(!t)throw new Error("isContains requires argument 'other'");t=t.constructor===Array?new e(t):t.getCollisionMesh();var n=!0,r=!1,i=void 0;try{for(var a,u=(0,o.default)(t.boxes);!(n=(a=u.next()).done);n=!0){var s=a.value,l=!1,d=!0,f=!1,c=void 0;try{for(var h,v=(0,o.default)(this.boxes);!(d=(h=v.next()).done);d=!0){var w=h.value;l|=w.isContains(s)}}catch(e){f=!0,c=e}finally{try{!d&&v.return&&v.return()}finally{if(f)throw c}}if(!l)return!1}}catch(e){r=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}return!0}},{key:"someContains",value:function(t){if(!t)throw new Error("someContains requires argument 'other'");t=t.constructor===Array?new e(t):t.getCollisionMesh();var n=!0,r=!1,i=void 0;try{for(var a,u=(0,o.default)(this.boxes);!(n=(a=u.next()).done);n=!0){var s=a.value;if(s.someContains(t.boxes))return!0}}catch(e){r=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}return!1}},{key:"isTouching",value:function(t){if(!t)throw new Error("isTouching requires argument 'other'");t=t.constructor===Array?new e(t):t.getCollisionMesh();var n=!0,r=!1,i=void 0;try{for(var a,u=(0,o.default)(this.boxes);!(n=(a=u.next()).done);n=!0){var s=a.value;if(s.someTouching(t.boxes))return!0}}catch(e){r=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}return!1}},{key:"someTouching",value:function(e){if(!e)throw new Error("someTouching requires argument 'others'");if(e.constructor!==Array)throw new Error("someTouching requires argument 'others' to resolve to type Array");var t=!0,n=!1,r=void 0;try{for(var i,a=(0,o.default)(e);!(t=(i=a.next()).done);t=!0){var u=i.value;if(this.isTouching(u))return!0}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}return!1}},{key:"isColliding",value:function(t){if(!t)throw new Error("isColliding requires argument 'other'");t=t.constructor===Array?new e(t):t.getCollisionMesh();
var n=!0,r=!1,i=void 0;try{for(var a,u=(0,o.default)(this.boxes);!(n=(a=u.next()).done);n=!0){var s=a.value;if(s.someColliding(t.boxes))return!0}}catch(e){r=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}return!1}},{key:"someColliding",value:function(e){if(!e)throw new Error("someColliding requires argument 'others'");if(e.constructor!==Array)throw new Error("someColliding requires argument 'others' to resolve to type Array");var t=!0,n=!1,r=void 0;try{for(var i,a=(0,o.default)(e);!(t=(i=a.next()).done);t=!0){var u=i.value,s=!0,l=!1,d=void 0;try{for(var f,c=(0,o.default)(this.boxes);!(s=(f=c.next()).done);s=!0){var h=f.value;if(h.isColliding(u))return!0}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}return!1}},{key:"getColliding",value:function(t){if(!t)throw new Error("getColliding requires argument 'other'");t=t.constructor===Array?new e(t):t.getCollisionMesh();var n=!0,r=!1,i=void 0;try{for(var a,u=(0,o.default)(this.boxes);!(n=(a=u.next()).done);n=!0){var s=a.value,l=s.getColliding(t.boxes);if(l)return l}}catch(e){r=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}}}]),e}();t.default=v,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(69);var r=void 0;r=n("undefined"!=typeof process&&process&&process.versions&&(process.versions.electron||process.versions.node)||"undefined"!=typeof window&&window&&window.nodeRequire&&window.nodeRequire.runtime?70:"undefined"!=typeof fin&&fin&&fin.desktop&&fin.desktop.main?136:142),t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=r(i),a=n(2),u=r(a),s=n(3),l=[],d=!1;u.default.onReady=function(e){if(!(e&&e.constructor&&e.call&&e.apply))throw new Error("onReady expects a function passed as the callback argument!");d&&e(),l.indexOf(e)>=0||l.push(e)},u.default.isReady=function(){return d},t.default=new s.SyncCallback(function(){d=!0;var e=!0,t=!1,n=void 0;try{for(var r,i=(0,o.default)(l);!(e=(r=i.next()).done);e=!0){var a=r.value;a()}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}l=[]}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(71),o=r(i);o.default._isNode?n(93):o.default._isRenderer&&n(95)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(72),o=r(i),a=n(2),u=r(a),s=n(92),l=r(s);if(u.default._isNode=!1,u.default._isStartup=!1,u.default._isRenderer=!1,u.default.runtime.name="Electron",u.default.runtime.version=void 0,u.default.runtime.isElectron=!0,"undefined"!=typeof global&&global){var d=(0,l.default)("electron"),f=d.BrowserWindow;if(u.default._isNode=null!=f,u.default._isStartup=!u.default._isNode,u.default.runtime.version=global.process.versions.electron,u.default._isStartup){var c=(0,l.default)("electron"),h=c.remote;u.default.runtime.isMain=h.getCurrentWindow().id===h.BrowserWindow._getMainID(),l.default.runtime=u.default.runtime,l.default.workingDir=(0,l.default)("path").dirname(l.default.main.filename),l.default.windowmanagerPath=__filename,global.nodeRequire=l.default,process.once("loaded",function(){global.nodeRequire=l.default})}}else"undefined"!=typeof window&&window&&(u.default._isRenderer=!0,null!=window.nodeRequire&&(u.default.runtime=window.nodeRequire.runtime,u.default._windows=new o.default));t.default=u.default,e.exports=t.default},function(e,t,n){e.exports={default:n(73),__esModule:!0}},function(e,t,n){n(74),n(53),n(7),n(75),n(89),e.exports=n(20).Map},function(e,t){},function(e,t,n){"use strict";var r=n(76);e.exports=n(84)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(this,e);return t&&t.v},set:function(e,t){return r.def(this,0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(24).f,i=n(36),o=n(77),a=n(21),u=n(78),s=n(15),l=n(79),d=n(16),f=n(10),c=n(82),h=n(28),v=n(83).fastKey,w=h?"_s":"size",p=function(e,t){var n,r=v(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,d){var f=e(function(e,r){u(e,f,t,"_i"),e._i=i(null),e._f=void 0,e._l=void 0,e[w]=0,void 0!=r&&l(r,n,e[d],e)});return o(f.prototype,{clear:function(){for(var e=this,t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[w]=0},delete:function(e){var t=this,n=p(t,e);if(n){var r=n.n,i=n.p;delete t._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),t._f==n&&(t._f=r),t._l==n&&(t._l=i),t[w]--}return!!n},forEach:function(e){u(this,f,"forEach");for(var t,n=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!p(this,e)}}),h&&r(f.prototype,"size",{get:function(){return s(this[w])}}),f},def:function(e,t,n){var r,i,o=p(e,t);return o?o.v=n:(e._l=o={i:i=v(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[w]++,"F"!==i&&(e._i[i]=o)),e},getEntry:p,setStrong:function(e,t,n){d(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?f(0,n.k):"values"==t?f(0,n.v):f(0,[n.k,n.v]):(e._t=void 0,f(1))},n?"entries":"values",!n,!0),c(t)}}},function(e,t,n){var r=n(23);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(21),i=n(80),o=n(81),a=n(25),u=n(41),s=n(56),l={},d={},t=e.exports=function(e,t,n,f,c){var h,v,w,p,y=c?function(){return e}:s(e),_=r(n,f,t?2:1),g=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(o(y)){for(h=u(e.length);h>g;g++)if(p=t?_(a(v=e[g])[0],v[1]):_(e[g]),p===l||p===d)return p}else for(w=y.call(e);!(v=w.next()).done;)if(p=i(w,_,v.value,t),p===l||p===d)return p};t.BREAK=l,t.RETURN=d},function(e,t,n){var r=n(25);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(11),i=n(50)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){"use strict";var r=n(19),i=n(20),o=n(24),a=n(28),u=n(50)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[u]&&o.f(t,u,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(46)("meta"),i=n(26),o=n(34),a=n(24).f,u=0,s=Object.isExtensible||function(){return!0},l=!n(29)(function(){return s(Object.preventExtensions({}))}),d=function(e){a(e,r,{value:{i:"O"+ ++u,w:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!s(e))return"F";if(!t)return"E";d(e)}return e[r].i},c=function(e,t){if(!o(e,r)){if(!s(e))return!0;if(!t)return!1;d(e)}return e[r].w},h=function(e){return l&&v.NEED&&s(e)&&!o(e,r)&&d(e),e},v=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:c,onFreeze:h}},function(e,t,n){"use strict";var r=n(19),i=n(18),o=n(83),a=n(29),u=n(23),s=n(77),l=n(79),d=n(78),f=n(26),c=n(49),h=n(24).f,v=n(85)(0),w=n(28);e.exports=function(e,t,n,p,y,_){var g=r[e],m=g,x=y?"set":"add",b=m&&m.prototype,k={};return w&&"function"==typeof m&&(_||b.forEach&&!a(function(){(new m).entries().next()}))?(m=t(function(t,n){d(t,m,e,"_c"),t._c=new g,void 0!=n&&l(n,y,t[x],t)}),v("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in b&&(!_||"clear"!=e)&&u(m.prototype,e,function(n,r){if(d(this,m,e),!t&&_&&!f(n))return"get"==e&&void 0;var i=this._c[e](0===n?0:n,r);return t?this:i})}),"size"in b&&h(m.prototype,"size",{get:function(){return this._c.size}})):(m=p.getConstructor(t,e,y,x),s(m.prototype,n),o.NEED=!0),c(m,e),k[e]=m,i(i.G+i.W+i.F,k),_||p.setStrong(m,e,y),m}},function(e,t,n){var r=n(21),i=n(13),o=n(52),a=n(41),u=n(86);e.exports=function(e,t){var n=1==e,s=2==e,l=3==e,d=4==e,f=6==e,c=5==e||f,h=t||u;return function(t,u,v){for(var w,p,y=o(t),_=i(y),g=r(u,v,3),m=a(_.length),x=0,b=n?h(t,m):s?h(t,0):void 0;m>x;x++)if((c||x in _)&&(w=_[x],p=g(w,x,y),e))if(n)b[x]=p;else if(p)switch(e){case 3:return!0;case 5:return w;case 6:return x;case 2:b.push(w)}else if(d)return!1;return f?-1:l||d?d:b}}},function(e,t,n){var r=n(87);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(26),i=n(88),o=n(50)("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}},function(e,t,n){var r=n(14);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(18);r(r.P+r.R,"Map",{toJSON:n(90)("Map")})},function(e,t,n){var r=n(57),i=n(91);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var r=n(79);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=eval("typeof require !== 'undefined' && require"),module.exports=exports.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return global.__windowmanagerConfig[e]||process.argv.find(function(t){return t.indexOf("--"+e)>=0})}function o(e){var t=i(e);if(t){var n=t.indexOf("=")+1;if(n<t.length)return t.substr(n)}}function a(){function e(e){var t=e.url;delete e.url,M=new w(e),e.title=null==e.title?String(M.id):e.title,M._setFrameInit(e.frame),M.loadURL(t),M.setTitle(e.title),M.webContents.on("did-fail-load",function(){M.close()}),M.on("closed",function(){M=null,v.quit()}),c.default._launcher=M,s.default._deref()}function t(t){var n="";t.setEncoding("utf8"),t.on("data",function(e){n+=e}),t.on("error",function(e){var t="Server failed to load app.json ("+z+"). Error: "+e;p.showErrorBox("ERROR",t),v.quit()}),t.on("end",function(){if(200===t.statusCode){var r=void 0;try{r=JSON.parse(n).startup_app||{}}catch(e){var i="Server failed to parse app.json ("+z+").";return p.showErrorBox("ERROR",i),v.quit()}for(var o in r)r.hasOwnProperty(o)&&void 0!==E[o]&&(r[E[o]]=r[o],delete r[o]);for(var a in S)S.hasOwnProperty(a)&&(r[a]=null!=r[a]?r[a]:S[a]);e(r)}else{var u="Server failed to load app.json ("+z+"). Status code: "+t.statusCode;p.showErrorBox("ERROR",u),v.quit()}})}if(null!=z)if(0===z.indexOf("https"))_.get(z,t).on("error",function(e){var t="Server failed to load app.json ("+z+"). Error: "+e;p.showErrorBox("ERROR",t),v.quit()});else if(0===z.indexOf("http"))y.get(z,t).on("error",function(e){var t="Server failed to load app.json ("+z+"). Error: "+e;p.showErrorBox("ERROR",t),v.quit()});else{var n="Server doesn't support endpoint for app.json ("+z+").";p.showErrorBox("ERROR",n),v.quit()}else if(null!=b)e(S);else{var r="No endpoint provided to start the app.";p.showErrorBox("ERROR",r),v.quit()}}var u=n(69),s=r(u),l=n(92),d=r(l),f=n(71),c=r(f);n(94);var h=(0,d.default)("electron"),v=h.app,w=h.BrowserWindow,p=h.dialog,y=(0,d.default)("http"),_=(0,d.default)("https"),g=(0,d.default)("path"),m=(0,d.default)("url"),x=function(){var e=g.resolve(g.dirname(d.default.main.filename),"package.json");try{return(0,d.default)(e).windowmanager||global.__windowmanagerConfig||{}}catch(e){return{}}}(),b=o("endpoint")||x.endpoint,k=o("config")||x.config,z=k&&m.resolve(b,k),S={url:b,width:800,height:500,frame:!0,resizable:!0,show:!0,hasShadow:!1,autoHideMenuBar:!0,icon:"favicon.ico",webPreferences:{nodeIntegration:!1,preload:__filename}},E={name:"title",autoShow:"show",defaultLeft:"x",defaultTop:"y",defaultWidth:"width",defaultHeight:"height"},M=void 0;v.on("ready",a),v.on("window-all-closed",function(){"darwin"!==process.platform&&v.quit()}),v.on("activate",function(){null===M&&a()})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(5),o=r(i),a=n(71),u=r(a),s=n(92),l=r(s),d=(0,l.default)("electron"),f=d.BrowserWindow,c=u.default.geometry,h=c.Vector,v=c.BoundingBox;f.prototype._notifyReady=function(){var e=!0,t=!1,n=void 0;try{for(var r,i=(0,o.default)(f.getAllWindows());!(e=(r=i.next()).done);e=!0){var a=r.value;a.webContents.send("window-create",this.id)}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}},f.prototype._ensureSetup=function(){if(void 0===this._dockedGroup){this._dockedGroup=[this],this.on("closed",function(){this.undock()}),this.on("maximize",function(){this.undock()}),this.on("minimize",function(){this._dockMinimize()}),this.on("restore",function(){var e=!0,t=!1,n=void 0;try{for(var r,i=(0,o.default)(this._dockedGroup);!(e=(r=i.next()).done);e=!0){var a=r.value;a!==this&&a.restore()}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}});var e=this.getBounds();this.on("move",function(){var t=this.getBounds();e=t}),this.on("resize",function(){var t=this.getBounds();t.width===e.width&&t.height===e.height||this.undock(),e=t})}},f.prototype._setFrameInit=function(e){this._ensureSetup(),this._isFramed=e},f.prototype.dock=function(e){if(this._ensureSetup(),!this._isFramed){var t=f.fromId(e);if(void 0!==t&&!(this._dockedGroup.indexOf(t)>=0||(t._ensureSetup(),t._isFramed))){var n=!0,r=!1,i=void 0;try{for(var a,u=(0,o.default)(t._dockedGroup);!(n=(a=u.next()).done);n=!0){var s=a.value;this._dockedGroup.push(s),s._dockedGroup=this._dockedGroup}}catch(e){r=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}}}},f.prototype.undock=function(){this._ensureSetup(),1!==this._dockedGroup.length&&(this._dockedGroup.splice(this._dockedGroup.indexOf(this),1),this._dockedGroup=[this])},f.prototype._dockFocus=function(){this._ensureSetup();var e=!0,t=!1,n=void 0;try{for(var r,i=(0,o.default)(this._dockedGroup);!(e=(r=i.next()).done);e=!0){var a=r.value;a!==this&&(a.setAlwaysOnTop(!0),a.setAlwaysOnTop(!1))}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}this.setAlwaysOnTop(!0),this.setAlwaysOnTop(!1)},f.prototype._dragStart=function(){this._ensureSetup(),this.restore();var e=!0,t=!1,n=void 0;try{for(var r,i=(0,o.default)(this._dockedGroup);!(e=(r=i.next()).done);e=!0){var a=r.value;a._dragStartPos=a.getPosition()}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}},f.prototype._getBounds=function(){var e=this.getBounds();return new v(e.x,e.y,e.x+e.width,e.y+e.height)},f.prototype._dragBy=function(e,t){this._ensureSetup();var n=this._getBounds().moveTo(this._dragStartPos[0]+e,this._dragStartPos[1]+t),r=new h(NaN,NaN);if(!this._isFramed){var i=!0,a=!1,u=void 0;try{for(var s,l=(0,o.default)(f.getAllWindows());!(i=(s=l.next()).done);i=!0){var d=s.value;d._isFramed||d._dockedGroup===this._dockedGroup||r.setMin(n.getSnapDelta(d._getBounds()))}}catch(e){a=!0,u=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw u}}}e+=r.left||0,t+=r.top||0;var c=!0,v=!1,w=void 0;try{for(var p,y=(0,o.default)(this._dockedGroup);!(c=(p=y.next()).done);c=!0){var _=p.value,g=_._dragStartPos;void 0===g&&(g=_._dragStartPos=_.getPosition(),g[0]-=e,g[1]-=t),_.setPosition(g[0]+e,g[1]+t)}}catch(e){v=!0,w=e}finally{try{!c&&y.return&&y.return()}finally{if(v)throw w}}},f.prototype._dragStop=function(){if(this._ensureSetup(),!this._isFramed){var e=this._getBounds(),t=!0,n=!1,r=void 0;try{for(var i,a=(0,o.default)(f.getAllWindows());!(t=(i=a.next()).done);t=!0){var u=i.value;!u._isFramed&&e.isTouching(u._getBounds())&&this.dock(u.id)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}var s=!0,l=!1,d=void 0;try{for(var c,h=(0,o.default)(this._dockedGroup);!(s=(c=h.next()).done);s=!0){var v=c.value;delete v._dragStartPos}}catch(e){l=!0,d=e}finally{try{!s&&h.return&&h.return()}finally{if(l)throw d}}},f.prototype._dockMoveTo=function(e,t){this._ensureSetup();var n=this.getPosition(),r=e-n[0],i=t-n[1],a=!0,u=!1,s=void 0;try{for(var l,d=(0,o.default)(this._dockedGroup);!(a=(l=d.next()).done);a=!0){var f=l.value,c=f.getPosition();f.setPosition(c[0]+r,c[1]+i)}}catch(e){u=!0,s=e}finally{try{!a&&d.return&&d.return()}finally{if(u)throw s}}},f.prototype._dockMinimize=function(e,t){this._ensureSetup();var n=!0,r=!1,i=void 0;try{for(var a,u=(0,o.default)(this._dockedGroup);!(n=(a=u.next()).done);n=!0){var s=a.value;s.minimize()}}catch(e){r=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}},f.prototype._dockHide=function(e,t){this._ensureSetup();var n=!0,r=!1,i=void 0;try{for(var a,u=(0,o.default)(this._dockedGroup);!(n=(a=u.next()).done);n=!0){var s=a.value;s.hide()}}catch(e){r=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}},f.prototype._dockShow=function(e,t){this._ensureSetup();var n=!0,r=!1,i=void 0;try{for(var a,u=(0,o.default)(this._dockedGroup);!(n=(a=u.next()).done);n=!0){var s=a.value;s.show()}}catch(e){r=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}},f._getMainID=function(){return u.default._launcher.id}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(96),o=r(i),a=n(72),u=r(a),s=n(5),l=r(s),d=n(71),f=r(d),c=n(69),h=r(c),v=n(100),w=r(v),p=window.nodeRequire("electron"),y=p.ipcRenderer;f.default.messagebus=function(){function e(e,t){return function(n,r){if(!e||e._id===r.winID){var i=f.default.Window.getByID(r.winID);i._id!==f.default.Window.current._id&&t.apply(i,r.args)}}}var t={},n={};return{send:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=f.default.Window.current,o={id:0,winID:i._id,event:e,args:n};if(n.length>0&&n[0]instanceof w.default){var a=n.shift();if(a._id===i._id)return;a._window.webContents.send(e,o)}else{var u=!0,s=!1,d=void 0;try{for(var c,h=(0,l.default)(f.default.Window.getAll());!(u=(c=h.next()).done);u=!0){var v=c.value;v!==i&&v._window.webContents.send(e,o)}}catch(e){s=!0,d=e}finally{try{!u&&h.return&&h.return()}finally{if(s)throw d}}}},on:function(r,i,o){void 0===o&&(o=i,i=void 0);var a=e(i,o);if(void 0!==i){if(i._id===f.default.Window.current._id)return;var s=n[i._id]=n[i._id]||{};s[r]=s[r]||new u.default,s[r].set(o,a)}else t[r]=t[r]||new u.default,t[r].set(o,a);y.on(r,a)},off:function(e,r,i){if(void 0===i&&(i=r,r=void 0),void 0!==r){var a=n[r._id]=n[r._id]||{};a[e]=a[e]||new u.default,y.removeListener(e,a[e].delete(i))}else t[e]=t[e]||new o.default,y.removeListener(e,t[e].get(i))}}}(),h.default._deref()},function(e,t,n){e.exports={default:n(97),__esModule:!0}},function(e,t,n){n(74),n(53),n(7),n(98),n(99),e.exports=n(20).Set},function(e,t,n){"use strict";var r=n(76);e.exports=n(84)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(this,e=0===e?0:e,e)}},r)},function(e,t,n){var r=n(18);r(r.P+r.R,"Set",{toJSON:n(90)("Set")})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=m.default._windows.get(e);if(t)return t;var n=M.fromId(e);return null!==n?new T(n):void 0}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=r(o),u=n(101),s=r(u),l=n(106),d=r(l),f=n(61),c=r(f),h=n(62),v=r(h),w=n(110),p=r(w),y=n(128),_=r(y),g=n(71),m=r(g),x=n(3),b=n(59),k=window.nodeRequire("electron"),z=k.ipcRenderer,S=k.remote,E=window.nodeRequire("url"),M=S.BrowserWindow,B=S.getCurrentWindow(),P={width:800,height:500,frame:!0,resizable:!0,show:!0,hasShadow:!1,autoHideMenuBar:!0,icon:"favicon.ico",webPreferences:{nodeIntegration:!1,preload:window.nodeRequire.windowmanagerPath}},O={left:"x",top:"y"},C=["ready","drag-start","drag-before","drag-stop","dock-before","move","move-before","resize-before","close","minimize"],T=function(e){function t(e){function n(){h.emit("move")}function r(){h.emit("minimize")}function i(){window.removeEventListener("beforeunload",o),m.default._windows.delete(h._id),h._isClosed=!0,h.emit("close"),h._window=void 0}function o(){m.default._windows.delete(h._id),h._window.removeListener("move",n),h._window.removeListener("close",i),h._window.removeListener("minimize",r)}(0,c.default)(this,t);var a=(0,p.default)(this,(t.__proto__||(0,d.default)(t)).call(this,C));e=e||{};var u=void 0===e.webContents;if(u){for(var s in e)e.hasOwnProperty(s)&&void 0!==O[s]&&(e[O[s]]=e[s],delete e[s]);for(var l in P)P.hasOwnProperty(l)&&(e[l]=null!=e[l]?e[l]:P[l]);var f=e.url;delete e.url,a._window=new M(e),a._id=a._window.id,e.title=null==e.title?String(a._id):e.title,/^(file|http)/i.test(f)||("/"!==f[0]?f=E.resolve(location.href,f):/^http/i.test(location.href)?f=location.origin+f:/^file/i.test(location.href)&&(f=S.getGlobal("workingDir")+f)),a._window._setFrameInit(e.frame),a._window.loadURL(f),a._window.setTitle(e.title)}else a._window=e,a._id=a._window.id;m.default._windows.set(a._id,a);var h=a;return a._window.on("move",n),a._window.on("minimize",r),window.addEventListener("beforeunload",o),a._window!==B&&a._window.on("close",i),a._isClosed=!1,a._ready=!0,u&&a._window._notifyReady(),a}return(0,_.default)(t,e),(0,v.default)(t,[{key:"isReady",value:function(){return void 0!==this._window&&!this._isClosed()}},{key:"onReady",value:function(e){if(this.isClosed())throw new Error("onReady can't be called on a closed window");return this.isReady()?e.call(this):void this.once("ready",e)}},{key:"isClosed",value:function(){return this._isClosed}},{key:"getPosition",value:function(){var e=this._window.getPosition();return new b.Position(e[0],e[1])}},{key:"getWidth",value:function(){var e=this._window.getSize();return e[0]}},{key:"getHeight",value:function(){var e=this._window.getSize();return e[1]}},{key:"getSize",value:function(){var e=this._window.getSize();return new b.Position(e[0],e[1])}},{key:"getBounds",value:function(){var e=this._window.getBounds();return new b.BoundingBox(e.x,e.y,e.x+e.width,e.y+e.height)}},{key:"getTitle",value:function(){return this._window.getTitle()}},{key:"setTitle",value:function(e){if(!e)throw new Error("setTitle requires one argument of type String");this._window.setTitle(e)}},{key:"isHidden",value:function(){return!this.isShown()}},{key:"isShown",value:function(){return this._window.isVisible()}},{key:"isMinimized",value:function(){return this._window.isMinimized()}},{key:"isMaximized",value:function(){return this._window.isMaximized()}},{key:"isRestored",value:function(){return this.isShown()&&!this.isMinimized()&&!this.isMaximized()}},{key:"close",value:function(e){return this.isClosed()?e&&e():(this._window.close(),void(e&&e()))}},{key:"minimize",value:function(e){if(!this._ready)throw new Error("minimize can't be called on an unready window");this._window._dockMinimize(),e&&e()}},{key:"maximize",value:function(e){if(!this._ready)throw new Error("maximize can't be called on an unready window");this._window.maximize(),e&&e()}},{key:"show",value:function(e){if(!this._ready)throw new Error("show can't be called on an unready window");this._window._dockShow(),e&&e()}},{key:"hide",value:function(e){if(!this._ready)throw new Error("hide can't be called on an unready window");this._window._dockHide(),e&&e()}},{key:"restore",value:function(e){if(!this._ready)throw new Error("restore can't be called on an unready window");this._window.restore(),e&&e()}},{key:"resizable",value:function(e,t){if(!this._ready)throw new Error("restore can't be called on an unready window");this._window.setResizable(),t&&t()}},{key:"bringToFront",value:function(e){if(!this._ready)throw new Error("bringToFront can't be called on an unready window");this._window._dockFocus(),e&&e()}},{key:"focus",value:function(e){if(!this._ready)throw new Error("focus can't be called on an unready window");this._window.focus(),e&&e()}},{key:"resizeTo",value:function(e,t,n){if(!this._ready)throw new Error("resizeTo can't be called on an unready window");var r=new b.Position(e,t);this._window.setSize(r.left,r.top),n&&n()}},{key:"moveTo",value:function(e,t,n){if(!this._ready)throw new Error("moveTo can't be called on an unready window");var r=new b.Position(e,t);this._window._dockMoveTo(r.left,r.top),n&&n()}},{key:"moveBy",value:function(e,t,n){if(!this._ready)throw new Error("moveBy can't be called on an unready window");var r=this.getBounds(),i=new b.Position(e,t);this._window._dockMoveTo(r.left+i.left,r.top+i.top),n&&n()}},{key:"setSize",value:function(e,t,n){if(!this._ready)throw new Error("setSize can't be called on an unready window");var r=new b.Size(e,t);this._window.setSize(r.left,r.top),n&&n()}},{key:"setBounds",value:function(e,t,n,r,i){if(!this._ready)throw new Error("resizeTo can't be called on an unready window");var o=new b.BoundingBox(e,t,n,r);this._window.setBounds({x:o.left,y:o.top,width:o.getWidth(),height:o.getHeight()}),i&&i()}},{key:"dock",value:function(e){this._window.dock(e._window.id)}},{key:"undock",value:function(){this._window.undock()}}],[{key:"getAll",value:function(){return(0,s.default)(m.default._windows.values())}},{key:"getByID",value:function(e){return m.default._windows.get(e)}},{key:"getMain",value:function(e){return m.default._windows.get(M._getMainID())}},{key:"getCurrent",value:function(){return t.current}}]),t}(x.EventHandler);T.current=new T(B),function(){var e=0,t=0,n=!1;window.addEventListener("focus",function(){T.current.bringToFront()}),window.addEventListener("mousedown",function(r){r.target.classList&&r.target.classList.contains("window-drag")&&(n=!0,e=r.screenX,t=r.screenY,T.current._window._dragStart())}),window.addEventListener("touchstart",function(r){r.target.classList&&r.target.classList.contains("window-drag")&&(r.preventDefault(),n=!0,e=r.touches[0].screenX,t=r.touches[0].screenY,T.current._window._dragStart())}),window.addEventListener("mousemove",function(r){n&&(window.getSelection().removeAllRanges(),T.current._window._dragBy(r.screenX-e,r.screenY-t))}),window.addEventListener("touchmove",function(r){n&&(r.preventDefault(),window.getSelection().removeAllRanges(),T.current._window._dragBy(r.touches[0].screenX-e,r.touches[0].screenY-t))}),window.addEventListener("mouseup",function(e){n&&(n=!1,T.current._window._dragStop())}),window.addEventListener("touchend",function(e){n&&(e.preventDefault(),n=!1,T.current._window._dragStop())});var r=S.Menu,i=S.MenuItem,o=null,u=new r;u.append(new i({label:"Reload",accelerator:"CmdOrCtrl+R",click:function(){T.current._window.reload()}})),u.append(new i({label:"Reload app and restart children",click:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=(0,a.default)(m.default._windows.values());!(e=(r=i.next()).done);e=!0){var o=r.value;o.close()}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}S.app.relaunch(),S.app.exit(0)}})),u.append(new i({type:"separator"})),u.append(new i({label:"Inspect Element",accelerator:"CmdOrCtrl+Shift+I",click:function(){T.current._window.inspectElement(o.x,o.y)}})),window.addEventListener("contextmenu",function(e){e.preventDefault(),o={x:e.x,y:e.y},u.popup(T.current._window)},!1)}();var N=!0,R=!1,j=void 0;try{for(var A,q=(0,a.default)(M.getAllWindows());!(N=(A=q.next()).done);N=!0){var W=A.value;i(W.id)}}catch(e){R=!0,j=e}finally{try{!N&&q.return&&q.return()}finally{if(R)throw j}}z.on("window-create",function(e,t){m.default.emit("window-create",i(t))}),m.default.Window=T,t.default=T,e.exports=t.default},function(e,t,n){e.exports={default:n(102),__esModule:!0}},function(e,t,n){n(53),n(103),e.exports=n(20).Array.from},function(e,t,n){"use strict";var r=n(21),i=n(18),o=n(52),a=n(80),u=n(81),s=n(41),l=n(104),d=n(56);i(i.S+i.F*!n(105)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,f,c=o(e),h="function"==typeof this?this:Array,v=arguments.length,w=v>1?arguments[1]:void 0,p=void 0!==w,y=0,_=d(c);if(p&&(w=r(w,v>2?arguments[2]:void 0,2)),void 0==_||h==Array&&u(_))for(t=s(c.length),n=new h(t);t>y;y++)l(n,y,p?w(c[y],y):c[y]);else for(f=_.call(c),n=new h;!(i=f.next()).done;y++)l(n,y,p?a(f,w,[i.value,y],!0):i.value);return n.length=y,n}})},function(e,t,n){"use strict";var r=n(24),i=n(32);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(50)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){e.exports={default:n(107),__esModule:!0}},function(e,t,n){n(108),e.exports=n(20).Object.getPrototypeOf},function(e,t,n){var r=n(52),i=n(51);n(109)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(18),i=n(20),o=n(29);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(111),o=r(i);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(112),o=r(i),a=n(115),u=r(a),s="function"==typeof u.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof u.default&&e.constructor===u.default&&e!==u.default.prototype?"symbol":typeof e};t.default="function"==typeof u.default&&"symbol"===s(o.default)?function(e){return"undefined"==typeof e?"undefined":s(e)}:function(e){return e&&"function"==typeof u.default&&e.constructor===u.default&&e!==u.default.prototype?"symbol":"undefined"==typeof e?"undefined":s(e)}},function(e,t,n){e.exports={default:n(113),__esModule:!0}},function(e,t,n){n(53),n(7),e.exports=n(114).f("iterator")},function(e,t,n){t.f=n(50)},function(e,t,n){e.exports={default:n(116),__esModule:!0}},function(e,t,n){n(117),n(74),n(126),n(127),e.exports=n(20).Symbol},function(e,t,n){"use strict";var r=n(19),i=n(34),o=n(28),a=n(18),u=n(33),s=n(83).KEY,l=n(29),d=n(45),f=n(49),c=n(46),h=n(50),v=n(114),w=n(118),p=n(119),y=n(120),_=n(88),g=n(25),m=n(12),x=n(31),b=n(32),k=n(36),z=n(123),S=n(125),E=n(24),M=n(38),B=S.f,P=E.f,O=z.f,C=r.Symbol,T=r.JSON,N=T&&T.stringify,R="prototype",j=h("_hidden"),A=h("toPrimitive"),q={}.propertyIsEnumerable,W=d("symbol-registry"),L=d("symbols"),G=d("op-symbols"),H=Object[R],F="function"==typeof C,I=r.QObject,D=!I||!I[R]||!I[R].findChild,Y=o&&l(function(){return 7!=k(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=B(H,t);r&&delete H[t],P(e,t,n),r&&e!==H&&P(H,t,r)}:P,V=function(e){var t=L[e]=k(C[R]);return t._k=e,t},X=F&&"symbol"==typeof C.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof C},J=function(e,t,n){return e===H&&J(G,t,n),g(e),t=x(t,!0),g(n),i(L,t)?(n.enumerable?(i(e,j)&&e[j][t]&&(e[j][t]=!1),n=k(n,{enumerable:b(0,!1)})):(i(e,j)||P(e,j,b(1,{})),e[j][t]=!0),Y(e,t,n)):P(e,t,n)},U=function(e,t){g(e);for(var n,r=y(t=m(t)),i=0,o=r.length;o>i;)J(e,n=r[i++],t[n]);return e},K=function(e,t){return void 0===t?k(e):U(k(e),t)},Z=function(e){var t=q.call(this,e=x(e,!0));return!(this===H&&i(L,e)&&!i(G,e))&&(!(t||!i(this,e)||!i(L,e)||i(this,j)&&this[j][e])||t)},Q=function(e,t){if(e=m(e),t=x(t,!0),e!==H||!i(L,t)||i(G,t)){var n=B(e,t);return!n||!i(L,t)||i(e,j)&&e[j][t]||(n.enumerable=!0),n}},$=function(e){for(var t,n=O(m(e)),r=[],o=0;n.length>o;)i(L,t=n[o++])||t==j||t==s||r.push(t);return r},ee=function(e){for(var t,n=e===H,r=O(n?G:m(e)),o=[],a=0;r.length>a;)!i(L,t=r[a++])||n&&!i(H,t)||o.push(L[t]);return o};F||(C=function(){if(this instanceof C)throw TypeError("Symbol is not a constructor!");var e=c(arguments.length>0?arguments[0]:void 0),t=function(n){this===H&&t.call(G,n),i(this,j)&&i(this[j],e)&&(this[j][e]=!1),Y(this,e,b(1,n))};return o&&D&&Y(H,e,{configurable:!0,set:t
}),V(e)},u(C[R],"toString",function(){return this._k}),S.f=Q,E.f=J,n(124).f=z.f=$,n(122).f=Z,n(121).f=ee,o&&!n(17)&&u(H,"propertyIsEnumerable",Z,!0),v.f=function(e){return V(h(e))}),a(a.G+a.W+a.F*!F,{Symbol:C});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)h(te[ne++]);for(var te=M(h.store),ne=0;te.length>ne;)w(te[ne++]);a(a.S+a.F*!F,"Symbol",{for:function(e){return i(W,e+="")?W[e]:W[e]=C(e)},keyFor:function(e){if(X(e))return p(W,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){D=!0},useSimple:function(){D=!1}}),a(a.S+a.F*!F,"Object",{create:K,defineProperty:J,defineProperties:U,getOwnPropertyDescriptor:Q,getOwnPropertyNames:$,getOwnPropertySymbols:ee}),T&&a(a.S+a.F*(!F||l(function(){var e=C();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!X(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return t=r[1],"function"==typeof t&&(n=t),!n&&_(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!X(t))return t}),r[1]=t,N.apply(T,r)}}}),C[R][A]||n(23)(C[R],A,C[R].valueOf),f(C,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(19),i=n(20),o=n(17),a=n(114),u=n(24).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(38),i=n(12);e.exports=function(e,t){for(var n,o=i(e),a=r(o),u=a.length,s=0;u>s;)if(o[n=a[s++]]===t)return n}},function(e,t,n){var r=n(38),i=n(121),o=n(122);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,u=n(e),s=o.f,l=0;u.length>l;)s.call(e,a=u[l++])&&t.push(a);return t}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(12),i=n(124).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?u(e):i(r(e))}},function(e,t,n){var r=n(39),i=n(47).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(122),i=n(32),o=n(12),a=n(31),u=n(34),s=n(27),l=Object.getOwnPropertyDescriptor;t.f=n(28)?l:function(e,t){if(e=o(e),t=a(t,!0),s)try{return l(e,t)}catch(e){}if(u(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){n(118)("asyncIterator")},function(e,t,n){n(118)("observable")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(129),o=r(i),a=n(133),u=r(a),s=n(111),l=r(s);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,l.default)(t)));e.prototype=(0,u.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}},function(e,t,n){e.exports={default:n(130),__esModule:!0}},function(e,t,n){n(131),e.exports=n(20).Object.setPrototypeOf},function(e,t,n){var r=n(18);r(r.S,"Object",{setPrototypeOf:n(132).set})},function(e,t,n){var r=n(26),i=n(25),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(21)(Function.call,n(125).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(134),__esModule:!0}},function(e,t,n){n(135);var r=n(20).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(18);r(r.S,"Object",{create:n(36)})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(96),o=r(i),a=n(72),u=r(a),s=n(137),l=r(s),d=n(141),f=r(d),c="app_uuid";l.default.messagebus=function(){function e(e){return function(t){var n=f.default.getByID(t.winID);n._id!==f.default.current._id&&e.apply(n,t.args)}}var t={},n={};return{send:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=f.default.current,o={id:0,winID:i._id,event:e,args:n};if(n.length>0&&n[0]instanceof f.default){var a=n.shift();if(a._id===i._id)return;fin.desktop.InterApplicationBus.send(f.default.current._window[c],a._id,e,o)}else fin.desktop.InterApplicationBus.send(f.default.current._window[c],e,o)},on:function(r,i,o){void 0===o&&(o=i,i=void 0);var a=e(o);if(void 0!==i){if(i._id===f.default.current._id)return;var s=n[i._id]=n[i._id]||{};s[r]=s[r]||new u.default,s[r].set(o,a),fin.desktop.InterApplicationBus.subscribe(f.default.current._window[c],i._id,r,a)}else t[r]=t[r]||new u.default,t[r].set(o,a),fin.desktop.InterApplicationBus.subscribe(f.default.current._window[c],r,a)},off:function(e,r,i){if(void 0===i&&(i=r,r=void 0),void 0!==r){var a=n[r._id]=n[r._id]||{};a[e]=a[e]||new u.default,fin.desktop.InterApplicationBus.unsubscribe(f.default.current._window[c],r._window._id,e,a[e].delete(i))}else t[e]=t[e]||new o.default,fin.desktop.InterApplicationBus.unsubscribe(f.default.current._window[c],e,t[e].delete(i))}}}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(138),o=r(i),a=n(72),u=r(a),s=n(2),l=r(s),d=n(69),f=r(d),c=n(3);l.default.runtime.name="OpenFin",l.default.runtime.version=void 0,l.default.runtime.isOpenFin=!0;var h=f.default.ref(function(e){l.default.runtime.version=e});fin.desktop.main(f.default.ref(function(){fin.desktop.System.getVersion(h);var e=fin.desktop.Application.getCurrent(),t=e.getWindow().contentWindow;t===window&&(l.default.runtime.isMain=!0,l.default._launcher=t,l.default._windows=new u.default,l.default._internalBus=new c.EventHandler((0,o.default)(l.default._eventListeners))),l.default._internalBus.addPipe(l.default)})),t.default=l.default,e.exports=t.default},function(e,t,n){e.exports={default:n(139),__esModule:!0}},function(e,t,n){n(140),e.exports=n(20).Object.keys},function(e,t,n){var r=n(52),i=n(38);n(109)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){o._window.contentWindow.windowmanager?(o._window.contentWindow.windowmanager._launcher=x.default._launcher,o._window.contentWindow.windowmanager._windows=x.default._windows,o._window.contentWindow.windowmanager._internalBus=x.default._internalBus):setTimeout(t,5)}function n(e){e.right=e.left+e.width,e.bottom=e.top+e.height,o._bounds.set(new S.BoundingBox(e)),0!==e.changeType&&o.undock(),1!==e.changeType&&o.emit("move")}function r(){o._isClosed=!0,x.default._windows.delete(o._id),o.undock();var e=o.getParent(),t=!0,n=!1,r=void 0;try{for(var i,a=(0,g.default)(o.getChildren());!(t=(i=a.next()).done);t=!0){var u=i.value;u.setParent(e)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}o.setParent(void 0),o.emit("close"),x.default._internalBus.emit("window-close",o),o._window=void 0}function i(){o.emit("minimize")}var o=this;t(),this._window.getBounds(function(e){e.right=e.left+e.width,e.bottom=e.top+e.height,o._bounds.set(new S.BoundingBox(e))}),this._window.addEventListener("bounds-changing",n),this._window.addEventListener("bounds-changed",n),this._window.addEventListener("closed",r),this._window.addEventListener("minimized",i),this._titleEl=this._window.contentWindow.document.createElement("title"),this._titleEl.innerText=this._title,this._window.contentWindow.document.head.appendChild(this._titleEl),this._isFramed=e.frame,this._ready=!0,this.emit("ready"),x.default._internalBus.emit("window-create",this)}function o(){O.current=x.default._windows.get(P.name)||new O(P);var e=0,t=0,n=!1;window.addEventListener("focus",function(){O.current.bringToFront()}),window.addEventListener("mousedown",function(r){r.target.classList&&r.target.classList.contains("window-drag")&&(n=!0,e=r.screenX,t=r.screenY,O.current._dragStart())}),window.addEventListener("touchstart",function(r){r.target.classList&&r.target.classList.contains("window-drag")&&(r.preventDefault(),n=!0,e=r.touches[0].screenX,t=r.touches[0].screenY,O.current._dragStart())}),window.addEventListener("mousemove",function(r){n&&(window.getSelection().removeAllRanges(),O.current._dragBy(r.screenX-e,r.screenY-t))}),window.addEventListener("touchmove",function(r){n&&(r.preventDefault(),window.getSelection().removeAllRanges(),O.current._dragBy(r.touches[0].screenX-e,r.touches[0].screenY-t))}),window.addEventListener("mouseup",function(e){n&&(n=!1,O.current._dragStop())}),window.addEventListener("touchend",function(e){n&&(e.preventDefault(),n=!1,O.current._dragStop())})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(101),u=r(a),s=n(106),l=r(s),d=n(61),f=r(d),c=n(62),h=r(c),v=n(110),w=r(v),p=n(128),y=r(p),_=n(5),g=r(_),m=n(137),x=r(m),b=n(69),k=r(b),z=n(3),S=n(59),E={defaultWidth:600,defaultHeight:600,frame:!1,resizable:!0,saveWindowState:!1,autoShow:!0,icon:location.href+"favicon.ico"},M={title:"name",left:"defaultLeft",top:"defaultTop",width:"defaultWidth",height:"defaultHeight"},B=["ready","drag-start","drag-before","drag-stop","dock-before","move","move-before","resize-before","close","minimize"],P=void 0,O=function(e){function t(e){(0,f.default)(this,t);var n=(0,w.default)(this,(t.__proto__||(0,l.default)(t)).call(this,B));e=e||{};var r=void 0===e.app_uuid;if(n._bounds=new S.BoundingBox,n._ready=!1,n._isClosed=!1,n._isHidden=!1,n._isMinimized=!1,n._isMaximized=!1,n._dockedGroup=[n],n._children=[],n._parent=void 0,n._title=void 0,r){for(var o in e)e.hasOwnProperty(o)&&void 0!==M[o]&&(e[M[o]]=e[o],delete e[o]);for(var a in E)E.hasOwnProperty(a)&&(e[a]=null!=e[a]?e[a]:E[a]);n._id=(0,z.getUniqueWindowName)(),n._title=null==e.name?n._id:e.name,e.name=n._id,e.parent&&(e.parent._children.push(n),n._parent=e.parent,delete e.parent),x.default._windows.set(n._id,n),n._window=new fin.desktop.Window(e,i.bind(n,e),function(t){console.error(t,e)})}else n._id=e._id||e.name,n._title=n._id,n._window=e,x.default._windows.set(n._id,n),n._window.getOptions(i.bind(n),function(e){console.error(e)});return n}return(0,y.default)(t,e),(0,h.default)(t,[{key:"isReady",value:function(){return this._ready}},{key:"onReady",value:function(e){if(this.isClosed())throw new Error("onReady can't be called on a closed window");return this.isReady()?e.call(this):void this.once("ready",e)}},{key:"isClosed",value:function(){return this._isClosed}},{key:"getPosition",value:function(){return this._bounds.getPosition()}},{key:"getWidth",value:function(){return this._bounds.getWidth()}},{key:"getHeight",value:function(){return this._bounds.getHeight()}},{key:"getSize",value:function(){return this._bounds.getSize()}},{key:"getBounds",value:function(){return this._bounds.clone()}},{key:"getParent",value:function(){return this._parent}},{key:"setParent",value:function(e){if(e!==this._parent){if(this._parent){var t=this._parent._children.indexOf(this);t>=0&&this._parent._children.splice(t,1)}e&&(this._parent=e,this._parent._children.push(this))}}},{key:"getChildren",value:function(){return this._children.slice()}},{key:"addChild",value:function(e){e.setParent(this)}},{key:"getTitle",value:function(){return this._title}},{key:"setTitle",value:function(e){if(!e)throw new Error("setTitle requires one argument of type String");this._titleEl.innerText=this._title=e}},{key:"isHidden",value:function(){return this._isHidden}},{key:"isShown",value:function(){return!this._isHidden}},{key:"isMinimized",value:function(){return this._isMinimized}},{key:"isMaximized",value:function(){return this._isMaximized}},{key:"isRestored",value:function(){return this.isShown()&&!this.isMinimized()&&!this.isMaximized()}},{key:"close",value:function(e){return this.isClosed()?e&&e():void this._window.close(e)}},{key:"minimize",value:function(e){if(!this._ready)throw new Error("minimize can't be called on an unready window");e=new z.SyncCallback(e);var t=!0,n=!1,r=void 0;try{for(var i,o=(0,g.default)(this._dockedGroup);!(t=(i=o.next()).done);t=!0){var a=i.value;a._isMinimized=!0,a._window.minimize(e.ref())}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"maximize",value:function(e){if(!this._ready)throw new Error("maximize can't be called on an unready window");this._isMaximized=!0,this._window.maximize(e)}},{key:"show",value:function(e){if(!this._ready)throw new Error("show can't be called on an unready window");e=new z.SyncCallback(e);var t=!0,n=!1,r=void 0;try{for(var i,o=(0,g.default)(this._dockedGroup);!(t=(i=o.next()).done);t=!0){var a=i.value;a._isHidden=!1,a._window.show(e.ref())}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"hide",value:function(e){if(!this._ready)throw new Error("hide can't be called on an unready window");e=new z.SyncCallback(e);var t=!0,n=!1,r=void 0;try{for(var i,o=(0,g.default)(this._dockedGroup);!(t=(i=o.next()).done);t=!0){var a=i.value;a._isHidden=!0,a._window.hide(e.ref())}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"restore",value:function(e){if(!this._ready)throw new Error("restore can't be called on an unready window");e=new z.SyncCallback(e);var t=!0,n=!1,r=void 0;try{for(var i,o=(0,g.default)(this._dockedGroup);!(t=(i=o.next()).done);t=!0){var a=i.value;a._isHidden=!1,a._isMinimized=!1,a._isMaximized=!1,a._window.restore(e.ref())}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"resizable",value:function(e,t){if(!this._ready)throw new Error("restore can't be called on an unready window");this._window.updateOptions({resizable:e},t)}},{key:"bringToFront",value:function(e){if(!this._ready)throw new Error("bringToFront can't be called on an unready window");var t=this,n=new z.SyncCallback(function(){t._window.bringToFront(e)}),r=!0,i=!1,o=void 0;try{for(var a,u=(0,g.default)(this._dockedGroup);!(r=(a=u.next()).done);r=!0){var s=a.value;s!==this&&s._window.bringToFront(n.ref())}}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}}},{key:"focus",value:function(e){if(!this._ready)throw new Error("focus can't be called on an unready window");var t=this,n=new z.SyncCallback(function(){t._window.focus(e)}),r=!0,i=!1,o=void 0;try{for(var a,u=(0,g.default)(this._dockedGroup);!(r=(a=u.next()).done);r=!0){var s=a.value;s!==this&&s._window.focus(n.ref())}}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}}},{key:"resizeTo",value:function(e,t,n){if(!this._ready)throw new Error("resizeTo can't be called on an unready window");if(this.emit("resize-before")){var r=new S.Position(e,t);this._window.resizeTo(r.left,r.top,"top-left",n)}}},{key:"moveTo",value:function(e,t,n){if(!this._ready)throw new Error("moveTo can't be called on an unready window");if(this.emit("move-before")){var r=new S.Position(e,t).subtract(this.getPosition());n=new z.SyncCallback(n);var i=!0,o=!1,a=void 0;try{for(var u,s=(0,g.default)(this._dockedGroup);!(i=(u=s.next()).done);i=!0){var l=u.value,d=l.getPosition().add(r);l._bounds.moveTo(d),l._window.moveTo(d.left,d.top,n.ref())}}catch(e){o=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}}}},{key:"moveBy",value:function(e,t,n){if(!this._ready)throw new Error("moveBy can't be called on an unready window");if(this.emit("move-before")){var r=new S.Position(e,t);n=new z.SyncCallback(n);var i=!0,o=!1,a=void 0;try{for(var u,s=(0,g.default)(this._dockedGroup);!(i=(u=s.next()).done);i=!0){var l=u.value,d=l.getPosition().add(r);l._bounds.moveTo(d),l._window.moveTo(d.left,d.top,n.ref())}}catch(e){o=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}}}},{key:"setSize",value:function(e,t,n){if(!this._ready)throw new Error("setSize can't be called on an unready window");var r=new S.Size(e,t);this._window.resizeTo(r.left,r.top,"top-left",n)}},{key:"setBounds",value:function(e,t,n,r,i){if(!this._ready)throw new Error("resizeTo can't be called on an unready window");var o=new S.BoundingBox(e,t,n,r);this._window.setBounds(o.left,o.top,o.right,o.bottom,i)}},{key:"dock",value:function(e){if(this.emit("dock-before")&&null!=e&&!(this._isFramed||e._isFramed||this._dockedGroup.indexOf(e)>=0)){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,g.default)(e._dockedGroup);!(t=(i=o.next()).done);t=!0){var a=i.value;this._dockedGroup.push(a),a._dockedGroup=this._dockedGroup}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}}},{key:"undock",value:function(e){1!==this._dockedGroup.length&&(this._dockedGroup.splice(this._dockedGroup.indexOf(this),1),this._dockedGroup=[this])}},{key:"_dragStart",value:function(){if(this.emit("drag-start")){var e=!0,t=!1,n=void 0;try{for(var r,i=(0,g.default)(this._dockedGroup);!(e=(r=i.next()).done);e=!0){var o=r.value;o._dragStartPos=o.getPosition()}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}}},{key:"_dragBy",value:function(e,t){if(this.emit("drag-before")){var n=this.getBounds().moveTo(this._dragStartPos.left+e,this._dragStartPos.top+t),r=new S.Vector(NaN,NaN);if(!this._isFramed){var i=!0,o=!1,a=void 0;try{for(var u,s=(0,g.default)(x.default._windows.values());!(i=(u=s.next()).done);i=!0){var l=u.value;l._isFramed||l._dockedGroup===this._dockedGroup||r.setMin(n.getSnapDelta(l.getBounds()))}}catch(e){o=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}}e+=r.left||0,t+=r.top||0;var d=!0,f=!1,c=void 0;try{for(var h,v=(0,g.default)(this._dockedGroup);!(d=(h=v.next()).done);d=!0){var w=h.value,p=w._dragStartPos;void 0===p&&(p=w._dragStartPos=w.getPosition(),p.left-=e,p.top-=t),w._window.moveTo(p.left+e,p.top+t)}}catch(e){f=!0,c=e}finally{try{!d&&v.return&&v.return()}finally{if(f)throw c}}}}},{key:"_dragStop",value:function(){var e=this.getBounds();if(!this._isFramed){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,g.default)(x.default._windows.values());!(t=(i=o.next()).done);t=!0){var a=i.value;!a._isFramed&&e.isTouching(a.getBounds())&&this.dock(a)}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}var u=!0,s=!1,l=void 0;try{for(var d,f=(0,g.default)(this._dockedGroup);!(u=(d=f.next()).done);u=!0){var c=d.value;delete c._dragStartPos}}catch(e){s=!0,l=e}finally{try{!u&&f.return&&f.return()}finally{if(s)throw l}}this.emit("drag-stop")}}],[{key:"getAll",value:function(){return(0,u.default)(x.default._windows.values())}},{key:"getByID",value:function(e){return x.default._windows.get(e)}},{key:"getMain",value:function(e){return x.default._windows.get(x.default._launcher.name)}},{key:"getCurrent",value:function(){return t.current}}]),t}(z.EventHandler);fin.desktop.main(k.default.ref(function(){function e(){x.default._windows?t():setTimeout(e,5)}P=fin.desktop.Window.getCurrent();var t=k.default.ref(o);e()})),x.default.Window=O,t.default=O,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(96),o=r(i),a=n(5),u=r(a),s=n(143),l=r(s),d=n(69),f=r(d),c=n(144),h=r(c);l.default.messagebus=function(){var e={},t={};return window.addEventListener("message",function(n){var r=n.data,i=h.default.getByID(r.winID);if(i._id!==h.default.current._id){if(null!=t[r.event]&&null!=t[r.event][r.winID]){var o=!0,a=!1,s=void 0;try{for(var l,d=(0,u.default)(t[r.event][r.winID]);!(o=(l=d.next()).done);o=!0){var f=l.value;f.apply(i,r.args)}}catch(e){a=!0,s=e}finally{try{!o&&d.return&&d.return()}finally{if(a)throw s}}}if(null!=e[r.event]){var c=!0,v=!1,w=void 0;try{for(var p,y=(0,u.default)(e[r.event]);!(c=(p=y.next()).done);c=!0){var _=p.value;_.apply(i,r.args)}}catch(e){v=!0,w=e}finally{try{!c&&y.return&&y.return()}finally{if(v)throw w}}}}},!1),{send:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=h.default.current,o={id:0,winID:i._id,event:e,args:n};if(n.length>0&&n[0]instanceof h.default){var a=n.shift();if(a._id===i._id)return;a._window.contentWindow.postMessage(o,"*")}else{var s=!0,d=!1,f=void 0;try{for(var c,v=(0,u.default)(l.default._windows.values());!(s=(c=v.next()).done);s=!0){var w=c.value;i!==w&&w._window.contentWindow.postMessage(o,"*")}}catch(e){d=!0,f=e}finally{try{!s&&v.return&&v.return()}finally{if(d)throw f}}}},on:function(n,r,i){if(void 0===i&&(i=r,r=void 0),void 0!==r){if(r._id===h.default.current._id)return;var a=t[r._id]=t[r._id]||{};a[n]=a[n]||new o.default,a[n].add(i)}else e[n]=e[n]||new o.default,e[n].add(i)},off:function(n,r,i){if(void 0===i&&(i=r,r=void 0),void 0!==r){var a=t[r._id]=t[r._id]||{};a[n]=a[n]||new o.default,a[n].delete(i)}else e[n]=e[n]||new o.default,e[n].delete(i)}}}(),f.default._deref()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){var e=navigator.userAgent,t=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],n=void 0;if(/trident/i.test(t[1]))return n=/\brv[ :]+(\d+)/g.exec(e)||[],{name:"IE",version:n[1]||""};if("Chrome"===t[1]){if(n=e.match(/\bOPR\/(\d+)/),null!==n)return{name:"Opera",version:n[1]};if(n=e.match(/\bedge\/(\d+)/i),null!==n)return{name:"Edge",version:n[1]}}return t=t[2]?[t[1],t[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(n=e.match(/version\/(\d+)/i))&&t.splice(1,1,n[1]),{name:t[0],version:t[1]}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(138),a=r(o),u=n(133),s=r(u),l=n(61),d=r(l),f=n(62),c=r(f),h=n(2),v=r(h),w=n(3),p=i();v.default.runtime.name=p.name,v.default.runtime.version=p.version,v.default.runtime.isBrowser=!0,v.default.runtime.isMain=window.parent===window;try{window.parent.document}catch(e){v.default.runtime.isMain=!0}if(v.default.runtime.isMain){var y=1e3,_=function(){function e(){(0,d.default)(this,e),this._map=(0,s.default)(null)}return(0,c.default)(e,[{key:"values",value:function e(){for(var e=(0,a.default)(this._map),t=0;t<e.length;t+=1)e[t]=this._map[e[t]];return e}},{key:"set",value:function(e,t){this._map[e]=t}},{key:"get",value:function(e){return this._map[e]}},{key:"delete",value:function(e){delete this._map[e]}}]),e}();v.default._launcher=window,v.default._internalBus=new w.EventHandler((0,a.default)(v.default._eventListeners)),v.default._windows=new _;var g=window.document.createElement("div");g.style.position="absolute",g.style.left="0",g.style.top="0",g.style.right="0",g.style.bottom="0",g.style["z-index"]="10000000",g.style.display="none",window.document.body.appendChild(g),v.default._overlay=g,v.default._getNextZIndex=function(){return y+=1}}else v.default._launcher=window.parent.windowmanager._launcher||window.parent,v.default._internalBus=window.parent.windowmanager._internalBus,v.default._windows=window.parent.windowmanager._windows,v.default._getNextZIndex=window.parent.windowmanager._getNextZIndex;v.default._internalBus.addPipe(v.default),t.default=v.default,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(101),o=r(i),a=n(5),u=r(a),s=n(133),l=r(s),d=n(145),f=r(d),c=n(106),h=r(c),v=n(61),w=r(v),p=n(62),y=r(p),_=n(110),g=r(_),m=n(128),x=r(m),b=n(143),k=r(b),z=n(3),S=n(59),E={width:800,height:500,frame:!0,resizable:!0,show:!0,icon:location.href+"favicon.ico",url:".",minWidth:100,minHeight:100,maxWidth:1/0,maxHeight:1/0},M={},B=["ready","drag-start","drag-before","drag-stop","dock-before","move","move-before","resize-before","close","minimize"],P=["-ms-transform","-moz-transform","-o-transform","-webkit-transform","transform"],O=function(e){function t(e){(0,w.default)(this,t);var n=(0,g.default)(this,(t.__proto__||(0,h.default)(t)).call(this,B));e=e||{};var r=!(e instanceof window.Window);return n._ready=!1,n._isClosed=!1,n._isHidden=!1,n._isMinimized=!1,n._isMaximized=!1,n._isResizable=!1,n._dockedGroup=[n],n._children=[],n._parent=void 0,n._title=void 0,n._id=(0,z.getUniqueWindowName)(),r?!function(){for(var t in e)e.hasOwnProperty(t)&&void 0!==M[t]&&(e[M[t]]=e[t],delete e[t]);for(var r in E)E.hasOwnProperty(r)&&(e[r]=null!=e[r]?e[r]:E[r]);n._title=null==e.title?n._id:e.title,e.parent&&(e.parent._children.push(n),n._parent=e.parent,delete e.parent),n._minSize=new S.BoundingBox(e.minWidth,e.minHeight),n._maxSize=new S.BoundingBox(e.maxWidth,e.maxHeight),n._isResizable=e.resizable;var i=k.default._launcher.document.createElement("div"),o=k.default._launcher.document.createElement("iframe");i.style.position="absolute",o.style.margin=o.style.padding=o.style.border=0,i.style.resize="both",i.style.overflow="visible",(0,f.default)(e.left)||(e.left=(k.default._launcher.innerWidth-e.width)/2),i.style.left=e.left+"px",(0,f.default)(e.top)||(e.top=(k.default._launcher.innerHeight-e.height)/2),i.style.top=e.top+"px",i.style.width=e.width+"px",i.style.height=e.height+"px",i.style.minWidth=n._minSize.left+"px",i.style.minHeight=n._minSize.top+"px",i.style.maxWidth=n._maxSize.left+"px",i.style.maxHeight=n._maxSize.top+"px",k.default._launcher.document.body.appendChild(i),o.src=e.url,o.style.margin=o.style.padding=o.style.border=0,o.style.width=o.style.height="100%",i.appendChild(o);var a=null,u=new S.Position,s=new S.BoundingBox,d=n;n._resize=(0,l.default)(null),n._resize.w=k.default._launcher.document.createElement("div"),n._resize.w.style.position="absolute",n._resize.w.style.width="6px",n._resize.w.style.height="calc(100% - 6px)",n._resize.w.style.left="-3px",n._resize.w.style.top="3px",n._resize.w.style.cursor="w-resize",n._resize.w.style["user-select"]="none",n._resize.nw=k.default._launcher.document.createElement("div"),n._resize.nw.style.position="absolute",n._resize.nw.style.width="6px",n._resize.nw.style.height="6px",n._resize.nw.style.left="-3px",n._resize.nw.style.top="-3px",n._resize.nw.style.cursor="nw-resize",n._resize.nw.style["user-select"]="none",n._resize.n=k.default._launcher.document.createElement("div"),n._resize.n.style.position="absolute",n._resize.n.style.width="calc(100% - 6px)",n._resize.n.style.height="6px",n._resize.n.style.left="3px",n._resize.n.style.top="-3px",n._resize.n.style.cursor="n-resize",n._resize.n.style["user-select"]="none",n._resize.ne=k.default._launcher.document.createElement("div"),n._resize.ne.style.position="absolute",n._resize.ne.style.width="6px",n._resize.ne.style.height="6px",n._resize.ne.style.right="-3px",n._resize.ne.style.top="-3px",n._resize.ne.style.cursor="ne-resize",n._resize.ne.style["user-select"]="none",n._resize.e=k.default._launcher.document.createElement("div"),n._resize.e.style.position="absolute",n._resize.e.style.width="6px",n._resize.e.style.height="calc(100% - 6px)",n._resize.e.style.right="-3px",n._resize.e.style.top="3px",n._resize.e.style.cursor="e-resize",n._resize.e.style["user-select"]="none",n._resize.se=k.default._launcher.document.createElement("div"),n._resize.se.style.position="absolute",n._resize.se.style.width="6px",n._resize.se.style.height="6px",n._resize.se.style.right="-3px",n._resize.se.style.bottom="-3px",n._resize.se.style.cursor="se-resize",n._resize.se.style["user-select"]="none",n._resize.s=k.default._launcher.document.createElement("div"),n._resize.s.style.position="absolute",n._resize.s.style.width="calc(100% - 6px)",n._resize.s.style.height="6px",n._resize.s.style.left="3px",n._resize.s.style.bottom="-3px",n._resize.s.style.cursor="s-resize",n._resize.s.style["user-select"]="none",n._resize.sw=k.default._launcher.document.createElement("div"),n._resize.sw.style.position="absolute",n._resize.sw.style.width="6px",n._resize.sw.style.height="6px",n._resize.sw.style.left="-3px",n._resize.sw.style.bottom="-3px",n._resize.sw.style.cursor="sw-resize",n._resize.sw.style["user-select"]="none",k.default._overlay.addEventListener("mousemove",function(e){var t=new S.Position(e.screenX,e.screenY).subtract(u),n=s.clone();switch(a){case"w":n.left=n.left+t.left;break;case"nw":n.left=n.left+t.left,n.top=n.top+t.top;break;case"n":n.top=n.top+t.top;break;case"ne":n.right=n.right+t.left,n.top=n.top+t.top;break;case"e":n.right=n.right+t.left;break;case"se":n.right=n.right+t.left,n.bottom=n.bottom+t.top;break;case"s":n.bottom=n.bottom+t.top;break;case"sw":n.left=n.left+t.left,n.bottom=n.bottom+t.top}d.setBounds(n),e.preventDefault()},!0),k.default._overlay.addEventListener("mouseup",function(e){a=null,k.default._overlay.style.display="none"},!0);var c=function(e){n._resize[e].style.display=n._isResizable?"":"none",n._resize[e].addEventListener("mousedown",function(t){d._isResizable&&(a=e,k.default._overlay.style.display="",k.default._overlay.style.cursor=e+"-resize",u=new S.Position(t.screenX,t.screenY),s=d.getBounds())}),i.appendChild(n._resize[e])};for(var h in n._resize)c(h);n._window=o,n._wrapper=i,k.default._windows.set(n._id,n),n._ready=!0,n.emit("ready"),k.default._internalBus.emit("window-create",n),n.bringToFront(),n.focus()}():(n._minSize=new S.BoundingBox(E.minWidth,E.minHeight),n._maxSize=new S.BoundingBox(E.maxWidth,E.maxHeight),n._wrapper=n._window=e.document.body,k.default._windows.set(n._id,n),n._ready=!0),n}return(0,x.default)(t,e),(0,y.default)(t,[{key:"isReady",value:function(){return this._ready}},{key:"onReady",value:function(e){if(this.isClosed())throw new Error("onReady can't be called on a closed window");return this.isReady()?e.call(this):void this.once("ready",e)}},{key:"isClosed",value:function(){return this._isClosed}},{key:"getPosition",value:function(){return new S.Position(this._wrapper.getBoundingClientRect())}},{key:"getMinWidth",value:function(){return this._minSize.left}},{key:"getWidth",value:function(){return this._window.getBoundingClientRect().width}},{key:"getMaxWidth",value:function(){return this._maxSize.left}},{key:"getMinHeight",value:function(){return this._minSize.top}},{key:"getHeight",value:function(){return this._wrapper.getBoundingClientRect().height}},{key:"getMaxHeight",value:function(){return this._maxSize.top}},{key:"getMinSize",value:function(){return this._minSize.clone()}},{key:"getSize",value:function(){var e=this._wrapper.getBoundingClientRect();return new S.Size(e.width,e.height)}},{key:"getMaxSize",value:function(){return this._maxSize.clone()}},{key:"getBounds",value:function(){return new S.BoundingBox(this._window.getBoundingClientRect())}},{key:"getParent",value:function(){return this._parent}},{key:"setParent",value:function(e){if(e!==this._parent){if(this._parent){var t=this._parent._children.indexOf(this);t>=0&&this._parent._children.splice(t,1)}e&&(this._parent=e,this._parent._children.push(this))}}},{key:"getChildren",value:function(){return this._children.slice()}},{key:"addChild",value:function(e){e.setParent(this)}},{key:"getTitle",value:function(){return this._title}},{key:"setTitle",value:function(e){if(!e)throw new Error("setTitle requires one argument of type String");this._title=e}},{key:"isHidden",value:function(){return this._isHidden}},{key:"isShown",value:function(){return!this._isHidden}},{key:"isMinimized",value:function(){return this._isMinimized}},{key:"isMaximized",value:function(){return this._isMaximized}},{key:"isRestored",value:function(){return this.isShown()&&!this.isMinimized()&&!this.isMaximized()}},{key:"isResizable",value:function(){return this._isResizable}},{key:"close",value:function(e){if(this.isClosed())return e&&e();this._wrapper.parentElement.removeChild(this._wrapper),k.default._windows.delete(this._id),this.undock();var t=this.getParent(),n=!0,r=!1,i=void 0;try{for(var o,a=(0,u.default)(this.getChildren());!(n=(o=a.next()).done);n=!0){var s=o.value;s.setParent(t)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}this.setParent(void 0),this._isClosed=!0,e&&e(),this.emit("close"),k.default._internalBus.emit("window-close",this)}},{key:"minimize",value:function(e){if(!this._ready)throw new Error("minimize can't be called on an unready window");var t=!0,n=!1,r=void 0;try{for(var i,o=(0,u.default)(this._dockedGroup);!(t=(i=o.next()).done);t=!0){
var a=i.value;a._isMinimized=!0,a.emit("minimize")}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"maximize",value:function(e){if(!this._ready)throw new Error("maximize can't be called on an unready window");this._restoreBounds=this.getBounds(),this._wrapper.style.left=0,this._wrapper.style.top=0,this._wrapper.style.width="100%",this._wrapper.style.height="100%",this._isMaximized=!0,e&&e()}},{key:"show",value:function(e){if(!this._ready)throw new Error("show can't be called on an unready window");var t=!0,n=!1,r=void 0;try{for(var i,o=(0,u.default)(this._dockedGroup);!(t=(i=o.next()).done);t=!0){var a=i.value;a._wrapper.style.display="",a._isHidden=!1}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}e&&e()}},{key:"hide",value:function(e){if(!this._ready)throw new Error("hide can't be called on an unready window");var t=!0,n=!1,r=void 0;try{for(var i,o=(0,u.default)(this._dockedGroup);!(t=(i=o.next()).done);t=!0){var a=i.value;a._wrapper.style.display="none",a._isHidden=!0}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}e&&e()}},{key:"restore",value:function(e){if(!this._ready)throw new Error("restore can't be called on an unready window");var t=!0,n=!1,r=void 0;try{for(var i,o=(0,u.default)(this._dockedGroup);!(t=(i=o.next()).done);t=!0){var a=i.value;a._isMaximized&&(a._wrapper.style.left=a._restoreBounds.left+"px",a._wrapper.style.top=a._restoreBounds.top+"px",a._wrapper.style.width=a._restoreBounds.getWidth()+"px",a._wrapper.style.height=a._restoreBounds.getHeight()+"px",a._isHidden=!1,a._isMinimized=!1,a._isMaximized=!1)}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}e&&e()}},{key:"resizable",value:function(e,t){if(!this._ready)throw new Error("restore can't be called on an unready window");if(this._isResizable!==e){this._isResizable=e;for(var n in this._resize)this._resize[n].style.display=e?"":"none"}t&&t()}},{key:"bringToFront",value:function(e){if(!this._ready)throw new Error("bringToFront can't be called on an unready window");var t=!0,n=!1,r=void 0;try{for(var i,o=(0,u.default)(this._dockedGroup);!(t=(i=o.next()).done);t=!0){var a=i.value;a!==this&&(a._wrapper.style["z-index"]=k.default._getNextZIndex())}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}this._wrapper.style["z-index"]=k.default._getNextZIndex(),e&&e()}},{key:"focus",value:function(e){if(!this._ready)throw new Error("focus can't be called on an unready window");var t=!0,n=!1,r=void 0;try{for(var i,o=(0,u.default)(this._dockedGroup);!(t=(i=o.next()).done);t=!0){var a=i.value;a!==this&&a._window.contentWindow.focus()}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}this._window.contentWindow.focus(),e&&e()}},{key:"resizeTo",value:function(e,t,n){if(!this._ready)throw new Error("resizeTo can't be called on an unready window");if(this.emit("resize-before")){var r=new S.Position(e,t);this.undock(),this._wrapper.style.width=r.left+"px",this._wrapper.style.height=r.top+"px",n&&n()}}},{key:"moveTo",value:function(e,t,n){if(!this._ready)throw new Error("moveTo can't be called on an unready window");if(this.emit("move-before")){var r=new S.Position(e,t).subtract(this.getPosition()),i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)(this._dockedGroup);!(i=(s=l.next()).done);i=!0){var d=s.value,f=d.getPosition().add(r);d._wrapper.style.left=f.left+"px",d._wrapper.style.top=f.top+"px"}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}n&&n()}}},{key:"moveBy",value:function(e,t,n){if(!this._ready)throw new Error("moveBy can't be called on an unready window");if(this.emit("move-before")){var r=new S.Position(e,t),i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)(this._dockedGroup);!(i=(s=l.next()).done);i=!0){var d=s.value,f=d.getPosition().add(r);d._wrapper.style.left=f.left+"px",d._wrapper.style.top=f.top+"px"}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}n&&n();var c=!0,h=!1,v=void 0;try{for(var w,p=(0,u.default)(this._dockedGroup);!(c=(w=p.next()).done);c=!0){var y=w.value;y.emit("move")}}catch(e){h=!0,v=e}finally{try{!c&&p.return&&p.return()}finally{if(h)throw v}}}}},{key:"setMinSize",value:function(e,t,n){if(!this._ready)throw new Error("setMinSize can't be called on an unready window");var r=new S.Size(e,t);this.undock(),this._minSize.left=r.left,this._minSize.top=r.top,this._wrapper.style.minWidth=this._minSize.left+"px",this._wrapper.style.minHeight=this._minSize.top+"px",this.getWidth()<r.left||this.getHeight()<r.top?(this._wrapper.style.width=Math.max(this.getWidth(),r.left)+"px",this._wrapper.style.height=Math.max(this.getHeight(),r.top)+"px",n&&n(),this.emit("resize")):n&&n()}},{key:"setSize",value:function(e,t,n){if(!this._ready)throw new Error("setMaxSize can't be called on an unready window");var r=new S.Size(e,t);this.undock(),this._wrapper.style.width=Math.min(this._maxSize.left,Math.max(this._minSize.left,r.left))+"px",this._wrapper.style.height=Math.min(this._maxSize.top,Math.max(this._minSize.top,r.top))+"px";var i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)(P);!(i=(s=l.next()).done);i=!0){var d=s.value;this._wrapper.style[d]=""}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}n&&n(),this.emit("resize")}},{key:"forceScaledSize",value:function(e,t,n){if(!this._ready)throw new Error("setMaxSize can't be called on an unready window");var r=new S.Size(Math.min(this._maxSize.left,Math.max(this._minSize.left,e)),Math.min(this._maxSize.top,Math.max(this._minSize.top,t)));this.undock(),this._wrapper.style.width=r.left+"px",this._wrapper.style.height=r.top+"px";var i=Math.min(e/r.left,t/r.top),o=!0,a=!1,s=void 0;try{for(var l,d=(0,u.default)(P);!(o=(l=d.next()).done);o=!0){var f=l.value;this._wrapper.style[f]="scale("+i+")"}}catch(e){a=!0,s=e}finally{try{!o&&d.return&&d.return()}finally{if(a)throw s}}n&&n(),this.emit("resize")}},{key:"setMaxSize",value:function(e,t,n){if(!this._ready)throw new Error("setMaxSize can't be called on an unready window");var r=new S.Size(e,t);if(this.undock(),this._maxSize.left=r.left,this._maxSize.top=r.top,this._wrapper.style.maxWidth=this._maxSize.left+"px",this._wrapper.style.maxHeight=this._maxSize.top+"px",this.getWidth()>r.left||this.getHeight()>r.top){this._wrapper.style.width=Math.min(this.getWidth(),r.left)+"px",this._wrapper.style.height=Math.min(this.getHeight(),r.top)+"px";var i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)(P);!(i=(s=l.next()).done);i=!0){var d=s.value;this._wrapper.style[d]=""}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}n&&n(),this.emit("resize")}else n&&n()}},{key:"setBounds",value:function(e,t,n,r,i){if(!this._ready)throw new Error("resizeTo can't be called on an unready window");var o=new S.BoundingBox(e,t,n,r);this.undock(),this._wrapper.style.left=o.left+"px",this._wrapper.style.top=o.top+"px",this._wrapper.style.width=Math.min(this._maxSize.left,Math.max(this._minSize.left,o.getWidth()))+"px",this._wrapper.style.height=Math.min(this._maxSize.top,Math.max(this._minSize.top,o.getHeight()))+"px";var a=!0,s=!1,l=void 0;try{for(var d,f=(0,u.default)(P);!(a=(d=f.next()).done);a=!0){var c=d.value;this._wrapper.style[c]=""}}catch(e){s=!0,l=e}finally{try{!a&&f.return&&f.return()}finally{if(s)throw l}}i&&i()}},{key:"dock",value:function(e){if(this.emit("dock-before")&&void 0!==e&&!(this._dockedGroup.indexOf(e)>=0)){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,u.default)(e._dockedGroup);!(t=(i=o.next()).done);t=!0){var a=i.value;this._dockedGroup.push(a),a._dockedGroup=a._dockedGroup}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}}},{key:"undock",value:function(e){1!==this._dockedGroup.length&&(this._dockedGroup.splice(this._dockedGroup.indexOf(this),1),this._dockedGroup=[this])}},{key:"_dragStart",value:function(){if(this.emit("drag-start")){this.restore();var e=!0,t=!1,n=void 0;try{for(var r,i=(0,u.default)(this._dockedGroup);!(e=(r=i.next()).done);e=!0){var o=r.value;o._dragStartPos=o.getPosition()}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}}},{key:"_dragBy",value:function(e,t){if(this.emit("drag-before")){var n=this.getBounds().moveTo(this._dragStartPos.left+e,this._dragStartPos.top+t),r=new S.Vector(NaN,NaN),i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)(k.default._windows.values());!(i=(s=l.next()).done);i=!0){var d=s.value;d._dockedGroup!==this._dockedGroup&&r.setMin(n.getSnapDelta(d.getBounds()))}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}e+=r.left||0,t+=r.top||0;var f=!0,c=!1,h=void 0;try{for(var v,w=(0,u.default)(this._dockedGroup);!(f=(v=w.next()).done);f=!0){var p=v.value,y=p._dragStartPos;void 0===y&&(y=p._dragStartPos=p.getPosition(),y.left-=e,y.top-=t),p._wrapper.style.left=y.left+e+"px",p._wrapper.style.top=y.top+t+"px",p.emit("move")}}catch(e){c=!0,h=e}finally{try{!f&&w.return&&w.return()}finally{if(c)throw h}}}}},{key:"_dragStop",value:function(){var e=this.getBounds(),t=!0,n=!1,r=void 0;try{for(var i,o=(0,u.default)(k.default._windows.values());!(t=(i=o.next()).done);t=!0){var a=i.value;e.isTouching(a.getBounds())&&this.dock(a)}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}var s=!0,l=!1,d=void 0;try{for(var f,c=(0,u.default)(this._dockedGroup);!(s=(f=c.next()).done);s=!0){var h=f.value;delete h._dragStartPos}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}this.emit("drag-stop")}}],[{key:"getAll",value:function(){return(0,o.default)(k.default._windows.values())}},{key:"getByID",value:function(e){return k.default._windows.get(e)}},{key:"getMain",value:function(){return k.default._launcher.windowmanager.Window.getCurrent()}},{key:"getCurrent",value:function(){return t.current}}]),t}(z.EventHandler);if(k.default.runtime.isMain?(window.document.body.contentWindow=window,O.current=new O(window)):O.current=function(){var e=!0,t=!1,n=void 0;try{for(var r,i=(0,u.default)(k.default._windows.values());!(e=(r=i.next()).done);e=!0){var o=r.value;if(o._window.contentWindow===window)return o}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}(),!k.default.runtime.isMain){var C=0,T=0,N=!1;window.addEventListener("focus",function(){O.current.bringToFront()}),window.addEventListener("mousedown",function(e){e.target.classList&&e.target.classList.contains("window-drag")&&(N=!0,C=e.screenX,T=e.screenY,O.current._dragStart())}),window.addEventListener("touchstart",function(e){e.target.classList&&e.target.classList.contains("window-drag")&&(e.preventDefault(),N=!0,C=e.touches[0].screenX,T=e.touches[0].screenY,O.current._dragStart())}),window.addEventListener("mousemove",function(e){N&&(window.getSelection().removeAllRanges(),O.current._dragBy(e.screenX-C,e.screenY-T))}),window.addEventListener("touchmove",function(e){N&&(e.preventDefault(),window.getSelection().removeAllRanges(),O.current._dragBy(e.touches[0].screenX-C,e.touches[0].screenY-T))}),window.addEventListener("mouseup",function(e){N&&(N=!1,O.current._dragStop())}),window.addEventListener("touchend",function(e){N&&(e.preventDefault(),N=!1,O.current._dragStop())})}k.default.Window=O,t.default=O,e.exports=t.default},function(e,t,n){e.exports={default:n(146),__esModule:!0}},function(e,t,n){n(147),e.exports=n(20).Number.isFinite},function(e,t,n){var r=n(18),i=n(19).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})}])});
//# sourceMappingURL=windowmanager.min.js.map